import{e as gt,h as sn,i as mn,j as cn,k as pn,l as dn,m as Be,n as Ue,o as un,p as fn,q as Ge,r as gn,s as hn,t as _n,u as bn,v as xn,w as vn,x as Cn}from"./chunk-NCNM2ZWK.js";import{$a as nt,$c as Et,A as v,Aa as a,Ad as Nt,Ba as _,Bb as b,Bd as $t,Ca as E,Cd as qt,Da as z,Db as N,Dd as Bt,Eb as $,Ed as Ut,Fa as ze,Fd as Gt,G as Z,Ga as Ve,Gd as Ht,Ha as Ne,Hb as ot,Hd as Qt,Ib as q,Id as Xt,Ja as ge,K as se,Kd as Wt,Lb as B,Ld as Jt,Ma as Fe,Mb as U,Md as Yt,N as l,Na as Ze,Nc as be,Nd as ye,Oa as et,Ob as at,Od as Kt,Pa as tt,Pb as lt,Pd as qe,Q as Ke,Qc as xe,Qd as Zt,R as u,Rb as _e,Rc as ft,Rd as en,Sb as G,Sc as ht,Sd as Me,T as C,Tb as Oe,Tc as _t,Td as tn,U as De,Ub as X,Uc as bt,Ud as nn,Va as he,Vb as st,Vc as xt,Vd as rn,Wc as ve,Wd as on,Xa as R,Xc as vt,Xd as an,Y as f,Ya as S,Zc as Ct,_ as s,_c as te,_d as ln,a as Je,ab as it,ad as yt,b as Ye,bd as Re,cb as L,cd as Mt,dd as St,ec as mt,ed as It,fd as wt,gd as Pt,ha as i,hb as O,hd as Ot,ia as r,id as ne,ja as p,jd as Le,ka as me,la as ce,lc as ct,ld as Ce,na as I,nd as Ee,oc as pt,od as kt,pa as g,pc as H,pd as ie,qa as d,qb as F,qc as $e,qd as Tt,r as w,rb as rt,rc as W,rd as Dt,s as Te,sb as k,sc as dt,sd as Ft,tb as ee,tc as Y,td as Rt,u as P,ua as pe,uc as ut,vb as Pe,vd as Lt,wa as de,wb as T,wd as At,xa as ue,xd as jt,ya as fe,yd as zt,z as x,za as je,zb as V,zd as Vt}from"./chunk-S7X6KSGG.js";var Ie=(()=>{class t{constructor(e,n){this.dialogRef=e,this.data=n}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}static{this.\u0275fac=function(n){return new(n||t)(u(Zt),u(en))}}static{this.\u0275cmp=C({type:t,selectors:[["app-confirmation-dialog"]],standalone:!1,decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-button","",3,"click"],["mat-button","","color","warn",3,"click"]],template:function(n,o){n&1&&(i(0,"h2",0),a(1),r(),i(2,"mat-dialog-content"),a(3),r(),i(4,"mat-dialog-actions")(5,"button",1),g("click",function(){return o.onCancel()}),a(6,"Annuler"),r(),i(7,"button",2),g("click",function(){return o.onConfirm()}),a(8,"Confirmer"),r()()),n&2&&(l(),_(o.data.title),l(2),_(o.data.message))},dependencies:[W,tn,rn,nn],encapsulation:2})}}return t})();function ri(t,c){if(t&1&&(i(0,"a",3)(1,"mat-icon"),a(2),r(),i(3,"span"),a(4),r()()),t&2){let e=d().$implicit;pe("matTooltip","Acc\xE9der \xE0 ",e.label,""),s("routerLink",e.route),l(2),_(e.icon),l(2),_(e.label)}}function oi(t,c){if(t&1&&(i(0,"a",3)(1,"span"),a(2),r()()),t&2){let e=c.$implicit;pe("matTooltip","Acc\xE9der \xE0 ",e.label,""),s("routerLink",e.route),l(2),_(e.label)}}function ai(t,c){if(t&1&&(i(0,"mat-expansion-panel")(1,"mat-expansion-panel-header",4)(2,"mat-icon"),a(3),r(),i(4,"span"),a(5),r()(),i(6,"mat-nav-list"),f(7,oi,3,4,"a",5),r()()),t&2){let e=d().$implicit;l(),pe("matTooltip","Voir les sous-menus de ",e.label,""),l(2),_(e.icon),l(2),_(e.label),l(2),s("ngForOf",e.children)}}function li(t,c){if(t&1&&(i(0,"div"),f(1,ri,5,5,"a",1)(2,ai,8,5,"mat-expansion-panel",2),r()),t&2){let e=c.$implicit;l(),s("ngIf",!e.children),l(),s("ngIf",e.children)}}var yn=(()=>{class t{constructor(e){this.el=e,this.menuItems=[{label:"Tableau de bord",icon:"dashboard",route:"dashboard"},{label:"Utilisateurs",icon:"people",children:[{label:"Apprenants",route:"apprenants"},{label:"Formateurs",route:"formateurs"},{label:"Entreprises",route:"entreprises"}]},{label:"Formations",icon:"library_books",children:[{label:"Prog. Talent",route:"formation"},{label:"Webinaires",route:"webinaire"},{label:"Cafe des Allies"},{label:"Formations externes"}]},{label:"Audition",icon:"menu_book",children:[{label:"Domaines",route:"domaine"},{label:"Parcours de formations"},{label:"Cours libres"},{label:"Cours payants"}]},{label:"Offres",icon:"work",children:[{label:"Emplois"},{label:"Stages"}]},{label:"\xC9coles",icon:"school",children:[{label:"Universit\xE9s",route:"/universities"},{label:"Instituts",route:"/institutes"},{label:"Centres de formations",route:"/training-centers"}]},{label:"Certifications",icon:"verified",children:[{label:"Organismes de certifications"},{label:"Certifications disponibles"},{label:"Certifications d\xE9livr\xE9es"}]},{label:"Interactions",icon:"chat",children:[{label:"Notifications"},{label:"Messages"},{label:"Mails"}]},{label:"Param\xE8tres",icon:"settings",children:[{label:"Th\xE8mes"},{label:"Apparence"},{label:"Politique d\u2019utilisation"}]}]}ngAfterViewInit(){}ngOnDestroy(){this.el.nativeElement.querySelectorAll(".mat-tooltip").forEach(n=>{this.el.nativeElement.removeChild(n)})}static{this.\u0275fac=function(n){return new(n||t)(u(Z))}}static{this.\u0275cmp=C({type:t,selectors:[["app-menu"]],standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["mat-list-item","",3,"routerLink","matTooltip",4,"ngIf"],[4,"ngIf"],["mat-list-item","",3,"routerLink","matTooltip"],[3,"matTooltip"],["mat-list-item","",3,"routerLink","matTooltip",4,"ngFor","ngForOf"]],template:function(n,o){n&1&&(i(0,"mat-nav-list"),f(1,li,3,2,"div",0),r()),n&2&&(l(),s("ngForOf",o.menuItems))},dependencies:[ee,R,S,H,Mt,Re,It,wt,te],styles:["mat-nav-list[_ngcontent-%COMP%]{background-color:#fff;padding:0;margin:0;border-radius:8px;box-shadow:0 2px 10px #0000001a}mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;font-size:14px;font-weight:500;color:#444;transition:background-color .3s ease,color .3s ease}mat-list-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:#f80}mat-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;color:#f80}span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}mat-expansion-panel[_ngcontent-%COMP%]{border:none;box-shadow:none}mat-expansion-panel-header[_ngcontent-%COMP%]{background-color:#e0f2f1;border-radius:8px;font-size:16px;font-weight:600;color:#f80;padding:12px 20px;transition:background-color .3s ease,color .3s ease}mat-expansion-panel-header[_ngcontent-%COMP%]:hover{background-color:#b2dfdb;color:#f80}mat-expansion-panel-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;margin-right:12px}mat-nav-list[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 30px;font-size:14px;font-weight:400;color:#666;transition:background-color .3s ease,color .3s ease;text-decoration:none}mat-nav-list[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:#f80}mat-nav-list[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:12px;color:#f80}.mat-tooltip[_ngcontent-%COMP%]{background-color:#f80;color:#fff;font-size:12px;padding:6px;border-radius:4px;font-weight:500}"]})}}return t})();var mi=["sidenav"];function ci(t,c){t&1&&(i(0,"div",5)(1,"span",6),a(2,"Chargement..."),r()())}function pi(t,c){t&1&&(i(0,"div",7),p(1,"img",8),i(2,"span",9),a(3,"Aucune donn\xE9e disponible"),r()())}function di(t,c){if(t&1){let e=I();i(0,"li",22)(1,"a",23),p(2,"img",24),r(),i(3,"ul",25)(4,"li")(5,"span",26),a(6),r()(),i(7,"li")(8,"span",26),a(9),r()(),i(10,"li")(11,"span",26),a(12),r()(),i(13,"li")(14,"button",27),g("click",function(){x(e);let o=d(2);return v(o.onLogout())}),p(15,"i",28),i(16,"span",29),a(17,"D\xE9connexion"),r()()()()()}if(t&2){let e=d(2);l(6),z("",e.userInfo==null?null:e.userInfo.firstName," ",e.userInfo==null?null:e.userInfo.lastName,""),l(3),_(e.userInfo==null?null:e.userInfo.email),l(3),_(e.userInfo==null?null:e.userInfo.role)}}function ui(t,c){t&1&&(i(0,"li",22)(1,"a",30),a(2,"Connexion"),r()())}function fi(t,c){if(t&1){let e=I();i(0,"div",10)(1,"mat-sidenav-container",11)(2,"mat-sidenav",12,0)(4,"mat-toolbar",13)(5,"a",14)(6,"span"),a(7,"FuturAllies"),r()()(),p(8,"app-menu"),r(),i(9,"mat-sidenav-content")(10,"mat-toolbar",15)(11,"button",16),g("click",function(){x(e);let o=je(3);return v(o.toggle())}),i(12,"mat-icon"),a(13,"menu"),r()(),i(14,"span",17),a(15,"Administration"),r(),p(16,"div",18),i(17,"div",19)(18,"ul",20),f(19,di,18,4,"li",21)(20,ui,3,0,"ng-template",null,1,tt),r()()(),i(22,"div",10),p(23,"router-outlet"),r()()()()}if(t&2){let e=je(21),n=d();l(19),s("ngIf",n.userInfo==null?null:n.userInfo.email)("ngIfElse",e)}}var In=(()=>{class t{constructor(e,n,o){this.overlayContainer=e,this.authService=n,this.el=o,this.tooltips=[],this.loading=!1,this.userInfo=null}ngOnDestroy(){this.tooltips.forEach(n=>n.hide(0)),this.overlayContainer.getContainerElement().innerHTML="",this.el.nativeElement.querySelectorAll(".mat-tooltip").forEach(n=>{n&&n.parentNode&&n.parentNode.removeChild(n)})}ngOnInit(){this.userInfo=this.authService.getUserInfo()}onLogout(){this.authService.logout()}static{this.\u0275fac=function(n){return new(n||t)(u(be),u(st),u(Z))}}static{this.\u0275cmp=C({type:t,selectors:[["app-admin"]],viewQuery:function(n,o){if(n&1&&de(mi,5),n&2){let m;ue(m=fe())&&(o.sidenav=m.first)}},standalone:!1,decls:4,vars:3,consts:[["sidenav",""],["loginTemplate",""],["class","loading-message d-flex flex-column align-items-center justify-content-center",4,"ngIf"],["class","no-data-message d-flex flex-column align-items-center justify-content-center",4,"ngIf"],["class","content",4,"ngIf"],[1,"loading-message","d-flex","flex-column","align-items-center","justify-content-center"],[1,"text-muted","fs-5"],[1,"no-data-message","d-flex","flex-column","align-items-center","justify-content-center"],["src","assets/no-data.png","alt","Aucune donn\xE9e disponible",1,"no-data-img","mb-3"],[1,"mt-2","text-muted","fs-5"],[1,"content"],[1,"sidenav-container"],["mode","side","opened","",1,"sidenav"],[1,"sidenav-toolbar"],["href","/admin"],["color","primary",1,"main-toolbar"],["mat-icon-button","","aria-label","Toggle sidenav","matTooltip","Ouvrir le menu",3,"click"],[1,"toolbar-title"],[1,"spacer"],[1,"user-profile"],[1,"nav"],["class","nav-item",4,"ngIf","ngIfElse"],[1,"nav-item"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["src","assets/profil.png","height","25",2,"background-color","yellow"],[1,"dropdown-menu"],[1,"dropdown-item"],[1,"dropdown-item",3,"click"],[1,"bi","bi-power"],[2,"padding-left","5px"],["href","/usersPages/login",1,"btn","btn-warning"]],template:function(n,o){n&1&&(i(0,"div"),f(1,ci,3,0,"div",2)(2,pi,4,0,"div",3)(3,fi,24,2,"div",4),r()),n&2&&(l(),s("ngIf",o.loading),l(),s("ngIf",(o.userInfo==null?null:o.userInfo.role)!="admin"&&!o.loading),l(),s("ngIf",(o.userInfo==null?null:o.userInfo.role)=="admin"))},dependencies:[rt,S,_t,bt,ht,ve,H,Y,te,yn],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100vh;display:flex}.sidenav-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#f80}.mat-toolbar[_ngcontent-%COMP%]{padding-top:15px;background:#3f51b5;color:#fff;display:flex;align-items:center}.sidenav[_ngcontent-%COMP%]{width:250px;height:100vh;background:#f4f4f4}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.header[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]{padding:16px}.avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%}.user-profile[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-sidenav[_ngcontent-%COMP%]{width:250px}.mat-sidenav-content[_ngcontent-%COMP%]{flex:1;overflow:auto}.badge-button[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;transform:none;font-size:.75rem;font-weight:700;background-color:inherit;box-shadow:0 2px 4px #0003}.badge-button[_ngcontent-%COMP%]{position:relative}.badge-button[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{font-size:.7rem;padding:0}"]})}}return t})();var gi=["sidenav"],hi=()=>[900,500];function _i(t,c){if(t&1&&(i(0,"div")(1,"button",11)(2,"mat-icon"),a(3),r(),a(4),r()()),t&2){let e=c.$implicit;l(),pe("matTooltip","Acc\xE9der \xE0 ",e.label,""),s("routerLink",e.route),l(2),_(e.icon),l(),E(" ",e.label," ")}}function bi(t,c){if(t&1&&(i(0,"mat-list-item",12)(1,"h4"),a(2),r(),i(3,"p"),a(4),r()()),t&2){let e=c.$implicit;l(2),_(e.title),l(2),z("",e.company," - Date limite: ",e.deadline,"")}}var wn=(()=>{class t{constructor(e,n){this.overlayContainer=e,this.el=n,this.tooltips=[],this.dashboardData={stats:{activeUsers:1200,recentCourses:45,jobOffers:15,certificationsIssued:340},trends:[{month:"Jan",users:200},{month:"Feb",users:300},{month:"Mar",users:400},{month:"Apr",users:350},{month:"May",users:800},{month:"Jun",users:9e3},{month:"Jul",users:4500},{month:"Aug",users:3800},{month:"Sep",users:3200},{month:"Oct",users:5e3},{month:"Nov",users:7e3},{month:"Dec",users:6e3}],quickActions:[{label:"Ajouter un cours",icon:"add",route:"/add-course"},{label:"Publier une offre",icon:"work_outline",route:"/add-job"}],recentOffers:[{title:"Stage D\xE9veloppeur Angular",company:"TechCorp",deadline:"2024-11-30"},{title:"Emploi Data Scientist",company:"DataLabs",deadline:"2024-12-05"}]},this.trendsData=this.dashboardData.trends.map(o=>({name:o.month,value:o.users}))}ngAfterViewInit(){}ngOnDestroy(){this.tooltips.forEach(o=>o.hide(0));let e=this.overlayContainer.getContainerElement();e.innerHTML="",this.el.nativeElement.querySelectorAll(".mat-tooltip").forEach(o=>{this.el.nativeElement.removeChild(o)})}static{this.\u0275fac=function(n){return new(n||t)(u(be),u(Z))}}static{this.\u0275cmp=C({type:t,selectors:[["app-dashboard"]],viewQuery:function(n,o){if(n&1&&de(gi,5),n&2){let m;ue(m=fe())&&(o.sidenav=m.first)}},standalone:!1,decls:45,vars:16,consts:[[1,"stats-card"],[1,"stats-item"],["matTooltip","Utilisateurs actifs"],["matTooltip","Cours r\xE9cents"],["matTooltip","Offres d'emploi"],["matTooltip","Certifications d\xE9livr\xE9es"],["xAxisLabel","Mois","yAxisLabel","Utilisateurs",3,"view","scheme","results","gradient","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel"],[1,"quick-actions"],[4,"ngFor","ngForOf"],[1,"recent-offers"],["matTooltip","Voir les d\xE9tails de l'offre",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"routerLink","matTooltip"],["matTooltip","Voir les d\xE9tails de l'offre"]],template:function(n,o){n&1&&(i(0,"mat-card",0)(1,"div",1)(2,"mat-icon",2),a(3,"groups"),r(),i(4,"div")(5,"span"),a(6),r(),i(7,"p"),a(8,"Utilisateurs actifs"),r()()(),i(9,"div",1)(10,"mat-icon",3),a(11,"menu_book"),r(),i(12,"div")(13,"span"),a(14),r(),i(15,"p"),a(16,"Cours r\xE9cents"),r()()(),i(17,"div",1)(18,"mat-icon",4),a(19,"work"),r(),i(20,"div")(21,"span"),a(22),r(),i(23,"p"),a(24,"Offres d'emploi"),r()()(),i(25,"div",1)(26,"mat-icon",5),a(27,"verified"),r(),i(28,"div")(29,"span"),a(30),r(),i(31,"p"),a(32,"Certifications d\xE9livr\xE9es"),r()()()(),i(33,"mat-card")(34,"ngx-charts-bar-vertical",6),a(35,` [xAxisTicks]="['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']"
`),r()(),i(36,"mat-card",7)(37,"h3"),a(38,"Actions rapides"),r(),f(39,_i,5,5,"div",8),r(),i(40,"mat-card",9)(41,"h3"),a(42,"Offres r\xE9centes"),r(),i(43,"mat-list"),f(44,bi,5,3,"mat-list-item",10),r()()),n&2&&(l(6),_(o.dashboardData.stats.activeUsers),l(8),_(o.dashboardData.stats.recentCourses),l(8),_(o.dashboardData.stats.jobOffers),l(8),_(o.dashboardData.stats.certificationsIssued),l(4),s("view",ge(15,hi))("scheme","vivid")("results",o.trendsData)("gradient",!1)("xAxis",!0)("yAxis",!0)("legend",!0)("showXAxisLabel",!0)("showYAxisLabel",!0),l(5),s("ngForOf",o.dashboardData.quickActions),l(5),s("ngForOf",o.dashboardData.recentOffers))},dependencies:[ee,R,H,yt,Re,W,ie,te,an],styles:[".stats-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;padding:16px;margin-bottom:16px}.stats-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:#f9f9f9;padding:16px;border-radius:8px;box-shadow:0 2px 5px #0000001a;text-align:center;transition:transform .3s,box-shadow .3s}.stats-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 10px #0003}mat-card[_ngcontent-%COMP%]{margin-bottom:16px;width:100%;padding:16px;box-shadow:0 2px 5px #0003;border-radius:8px}mat-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:16px;color:#3f51b5}canvas[_ngcontent-%COMP%]{max-width:100%;display:block}.quick-actions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .recent-offers[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:8px;color:#3f51b5}.quick-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:8px 0;text-transform:none;font-size:1em}.quick-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.recent-offers[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:8px 0;padding:8px 0;border-bottom:1px solid #e0e0e0}.recent-offers[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.recent-offers[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;color:#424242}.recent-offers[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:#757575}.recent-offers[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;border-radius:4px;transition:background-color .3s}ngx-charts-bar-vertical[_ngcontent-%COMP%]{display:block;width:100%;height:auto;margin-top:16px;border:1px solid #e0e0e0;border-radius:8px;padding:8px;background:#fff}"]})}}return t})();var D=function(t){return t.TEXT="text",t.TEXTAREA="textarea",t.TEL="tel",t.IMAGE="image",t.DATE="date",t.EMAIL="email",t.NUMBER="number",t.SELECT="select",t.RADIO="radio",t.CHECKBOX="checkbox",t.PASSWORD="password",t.FILE="file",t}(D||{});var K={users:{resource:{model:"User",options:{parent:{label:"Utilisateurs",icon:"People"},properties:{showProperties:[{label:"Nom",name:"nom",type:D.TEXT,required:!0,placeholder:"Entrez le nom",tooltip:"Nom de l'utilisateur",errorMessage:"Le nom est requis."},{label:"Pr\xE9nom",name:"prenom",type:D.TEXT,required:!0,placeholder:"Entrez le pr\xE9nom",tooltip:"Pr\xE9nom de l'utilisateur",errorMessage:"Le pr\xE9nom est requis."},{label:"Email",name:"email",type:D.EMAIL,required:!0,placeholder:"Entrez l'email",tooltip:"Adresse email valide",errorMessage:"L'email est requis et doit \xEAtre valide."},{label:"T\xE9l\xE9phone",name:"phone_number",type:D.TEL,pattern:"^\\+?[1-9][0-9]{1,14}$",tooltip:"Num\xE9ro de t\xE9l\xE9phone valide",errorMessage:"Le num\xE9ro de t\xE9l\xE9phone doit respecter le format international."},{label:"R\xF4le",name:"role",type:D.TEXT,required:!0,placeholder:"Entrez le r\xF4le de l'utilisateur",tooltip:"R\xF4le de l'utilisateur",errorMessage:"Le r\xF4le est requis."}],listProperties:[{label:"Identifiant",name:"id",type:D.TEXT,disabled:!0},{label:"Nom",name:"nom",type:D.TEXT},{label:"Pr\xE9nom",name:"prenom",type:D.TEXT},{label:"Email",name:"email",type:D.EMAIL},{label:"T\xE9l\xE9phone",name:"phone_number",type:D.TEL},{label:"R\xF4le",name:"role",type:D.TEXT}],filterProperties:[{label:"Nom",name:"nom",type:D.TEXT},{label:"Pr\xE9nom",name:"prenom",type:D.TEXT},{label:"Email",name:"email",type:D.EMAIL}],editProperties:[{label:"Nom",name:"nom",type:D.TEXT,required:!0,tooltip:"Nom de l'utilisateur",errorMessage:"Le nom est requis."},{label:"Pr\xE9nom",name:"prenom",type:D.TEXT,required:!0,tooltip:"Pr\xE9nom de l'utilisateur",errorMessage:"Le pr\xE9nom est requis."},{label:"Email",name:"email",type:D.EMAIL,required:!0,tooltip:"Adresse email valide",errorMessage:"L'email est requis et doit \xEAtre valide."},{label:"Mot de passe",name:"password",type:D.PASSWORD,required:!0,minLength:8,maxLength:20,tooltip:"Mot de passe s\xE9curis\xE9",errorMessage:"Le mot de passe doit comporter entre 8 et 20 caract\xE8res."},{label:"T\xE9l\xE9phone",name:"phone_number",type:D.TEL,pattern:"^\\+?[1-9][0-9]{1,14}$",tooltip:"Num\xE9ro de t\xE9l\xE9phone valide",errorMessage:"Le num\xE9ro de t\xE9l\xE9phone doit respecter le format international."}]}}}}};var re=(()=>{class t{constructor(e){this.http=e,this.apiUrl=T.apiUrl}getResources(e){return this.http.get(`${this.apiUrl}/${e}`)}getResource(e,n){return this.http.get(`${this.apiUrl}/${e}/${n}`)}createResource(e,n){return this.http.post(`${this.apiUrl}/${e}/`,n)}updateResource(e,n,o){return this.http.put(`${this.apiUrl}/${e}/${n}`,o)}deleteResource(e,n){return this.http.delete(`${this.apiUrl}/${e}/${n}`)}static{this.\u0275fac=function(n){return new(n||t)(P(O))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function xi(t,c){if(t&1){let e=I();i(0,"button",11),g("click",function(){x(e);let o=d(2);return v(o.executeBulkDelete())}),a(1,"Delete All"),r()}}function vi(t,c){if(t&1){let e=I();i(0,"div",6)(1,"div",7)(2,"mat-form-field",8)(3,"mat-label"),a(4,"Search"),r(),i(5,"input",9),Ne("ngModelChange",function(o){x(e);let m=d();return Ve(m.searchQuery,o)||(m.searchQuery=o),v(o)}),g("keyup",function(){x(e);let o=d();return v(o.onSearchChange())}),r()(),f(6,xi,2,0,"button",10),r()()}if(t&2){let e=d();l(5),ze("ngModel",e.searchQuery),l(),s("ngIf",e.showBulkDeleteButton&&!e.isDeleting)}}function Ci(t,c){t&1&&(i(0,"div",12)(1,"mat-icon",13),a(2,"info"),r(),i(3,"span"),a(4,"Aucune donn\xE9e disponible"),r()())}function Ei(t,c){if(t&1){let e=I();i(0,"th",23)(1,"mat-checkbox",24),g("change",function(o){x(e);let m=d(2);return v(m.toggleAllRows(o.checked))}),r()()}if(t&2){let e=d(2);l(),s("checked",e.selectedItems.length>0&&e.selectedItems.length===e.paginatedData.length)("indeterminate",e.selectedItems.length>0&&e.selectedItems.length!==e.paginatedData.length)}}function yi(t,c){if(t&1){let e=I();i(0,"td",25)(1,"mat-checkbox",26),Ne("ngModelChange",function(o){let m=x(e).$implicit;return Ve(m.selected,o)||(m.selected=o),v(o)}),g("change",function(){x(e);let o=d(2);return v(o.updateSelectedItems())}),r()()}if(t&2){let e=c.$implicit;l(),ze("ngModel",e.selected)}}function Mi(t,c){if(t&1&&(i(0,"th",23),a(1),r()),t&2){let e=d().$implicit;l(),_(e.label)}}function Si(t,c){if(t&1&&(me(0),a(1),Fe(2,"date"),ce()),t&2){let e=d().$implicit,n=d().$implicit;l(),_(et(2,1,e[n.name],"shortDate"))}}function Ii(t,c){if(t&1&&(me(0),a(1),ce()),t&2){let e=d().$implicit,n=d().$implicit;l(),_(e[n.name])}}function wi(t,c){if(t&1&&(i(0,"td",25),f(1,Si,3,4,"ng-container",28)(2,Ii,2,1,"ng-container",28),r()),t&2){let e=d().$implicit;l(),s("ngIf",e.type==="date"),l(),s("ngIf",e.type!=="date")}}function Pi(t,c){if(t&1&&(me(0,27),f(1,Mi,2,1,"th",16)(2,wi,3,2,"td",17),ce()),t&2){let e=c.$implicit;s("matColumnDef",e.name)}}function Oi(t,c){t&1&&(i(0,"th",29),a(1,"Actions"),r())}function ki(t,c){if(t&1){let e=I();i(0,"td",25)(1,"button",30),g("click",function(){let o=x(e).$implicit,m=d(2);return v(m.editElement(o))}),i(2,"mat-icon"),a(3,"edit"),r()()()}}function Ti(t,c){t&1&&p(0,"tr",31)}function Di(t,c){t&1&&p(0,"tr",32)}function Fi(t,c){if(t&1&&(i(0,"table",14),me(1,15),f(2,Ei,2,2,"th",16)(3,yi,2,1,"td",17),ce(),f(4,Pi,3,1,"ng-container",18),me(5,19),f(6,Oi,2,0,"th",20)(7,ki,4,0,"td",17),ce(),f(8,Ti,1,0,"tr",21)(9,Di,1,0,"tr",22),r()),t&2){let e=d();s("dataSource",e.paginatedData),l(4),s("ngForOf",e.listToDisplay),l(4),s("matHeaderRowDef",e.columns),l(),s("matRowDefColumns",e.columns)}}function Ri(t,c){if(t&1){let e=I();i(0,"mat-paginator",33),g("page",function(o){x(e);let m=d();return v(m.onPageChange(o))}),r()}if(t&2){let e=d();s("pageSizeOptions",e.pageSizeOptions)("pageSize",e.paginationConfig.pageSize)("length",e.resourceData.length)}}function Li(t,c){if(t&1){let e=I();i(0,"button",34),g("click",function(){x(e);let o=d();return v(o.onAddClick())}),i(1,"mat-icon"),a(2,"add"),r()()}}var We=(()=>{class t{constructor(e,n,o,m,h,M,j){this.route=e,this.resourceService=n,this.dialog=o,this.router=m,this.renderer=h,this.el=M,this.overlayContainer=j,this.resourceType="",this.resourceData=[],this.paginatedData=[],this.selectedItems=[],this.searchQuery="",this.loading=!1,this.isDeleting=!1,this.showBulkDeleteButton=!1,this.columns=[],this.pageSizeOptions=[5,10,20],this.paginationConfig={pageSize:10,pageSizeOptions:this.pageSizeOptions,currentPage:1}}ngOnInit(){this.resourceType=this.route.snapshot.paramMap.get("resourceType")||"",this.loadResourceConfig(),this.loadData()}ngOnDestroy(){this.tooltips.forEach(n=>n.hide(0)),this.overlayContainer.getContainerElement().innerHTML="",this.el.nativeElement.querySelectorAll(".mat-tooltip").forEach(n=>{n&&n.parentNode&&n.parentNode.removeChild(n)})}loadResourceConfig(){let e=K[this.resourceType];if(e){this.resource=e.resource;let n=this.resource.options;this.listToDisplay=n.properties.showProperties,this.columns=["select",...n.properties.showProperties.map(o=>o.name),"actions"]}else console.error("Resource not found")}loadData(){this.resource&&(this.loading=!0,this.resourceService.getResources(this.resourceType).subscribe(e=>{this.resourceData=e.map(n=>Ye(Je({},n),{selected:!1})),this.updatePaginatedData(),this.loading=!1},e=>{console.error("Error loading data",e),this.loading=!1}))}updatePaginatedData(){let e=this.searchQuery?this.resourceData.filter(m=>Object.values(m).some(h=>h?.toString().toLowerCase().includes(this.searchQuery.toLowerCase()))):this.resourceData,n=(this.paginationConfig.currentPage-1)*this.paginationConfig.pageSize,o=n+this.paginationConfig.pageSize;this.paginatedData=e.slice(n,o)}onSearchChange(){this.paginationConfig.currentPage=1,this.updatePaginatedData()}toggleAllRows(e){this.paginatedData.forEach(n=>{n.selected=e}),this.updateSelectedItems(),this.updateDisplayedColumns()}updateSelectedItems(){this.selectedItems=this.paginatedData.filter(e=>e.selected),this.showBulkDeleteButton=this.selectedItems.length>0,this.updateDisplayedColumns()}updateDisplayedColumns(){this.selectedItems.length>0?this.columns=this.columns.filter(e=>e!=="actions"):this.columns.includes("actions")||this.columns.push("actions")}executeBulkDelete(){this.selectedItems.length>0&&this.dialog.open(Ie,{data:{title:"Confirm bulk delete",message:`Are you sure you want to delete these ${this.selectedItems.length} items?`}}).afterClosed().subscribe(n=>{n&&(this.isDeleting=!0,this.selectedItems.forEach((o,m)=>{this.resourceService.deleteResource(this.resourceType,o._id).subscribe({next:()=>{this.resourceData=this.resourceData.filter(h=>h._id!==o._id),m===this.selectedItems.length-1&&(this.loadData(),this.isDeleting=!1,this.updatePaginatedData(),this.selectedItems=[],this.updateDisplayedColumns())},error:h=>{console.error("Error deleting item:",h),this.isDeleting=!1}})}))})}onPageChange(e){this.paginationConfig.pageSize=e.pageSize,this.paginationConfig.currentPage=e.pageIndex+1,this.updatePaginatedData()}onAddClick(){this.router.navigate([`admin/create/${this.resourceType}`])}viewElementDetails(e){this.router.navigate([`admin/details/${this.resourceType}/${e.id}`])}editElement(e){this.router.navigate([`admin/edit/${this.resourceType}/${e.id}`])}isActionsColumnVisible(){return this.selectedItems.length===0}static{this.\u0275fac=function(n){return new(n||t)(u(F),u(re),u(Me),u(k),u(Ke),u(Z),u(be))}}static{this.\u0275cmp=C({type:t,selectors:[["app-resource-list"]],viewQuery:function(n,o){if(n&1&&de(te,5),n&2){let m;ue(m=fe())&&(o.tooltips=m)}},standalone:!1,decls:7,vars:5,consts:[[1,"page-title"],["class","search-toolbar",4,"ngIf"],["class","no-data-message",4,"ngIf"],["mat-table","","class","listing-table mat-elevation-z8",3,"dataSource",4,"ngIf"],[3,"pageSizeOptions","pageSize","length","page",4,"ngIf"],["mat-fab","","color","primary","class","add-resource-button",3,"click",4,"ngIf"],[1,"search-toolbar"],[1,"search-bar-container"],["appearance","outline",1,"search-bar"],["matInput","",3,"ngModelChange","keyup","ngModel"],["mat-raised-button","","color","warn","class","delete-all-button",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",1,"delete-all-button",3,"click"],[1,"no-data-message"],[1,"no-data-icon"],["mat-table","",1,"listing-table","mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","header-cell",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"header-cell"],[3,"change","checked","indeterminate"],["mat-cell",""],[3,"ngModelChange","change","ngModel"],[3,"matColumnDef"],[4,"ngIf"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""],[3,"page","pageSizeOptions","pageSize","length"],["mat-fab","","color","primary",1,"add-resource-button",3,"click"]],template:function(n,o){n&1&&(i(0,"h2",0),a(1,"Manage Resources"),r(),f(2,vi,7,2,"div",1)(3,Ci,5,0,"div",2)(4,Fi,10,4,"table",3)(5,Ri,1,3,"mat-paginator",4)(6,Li,3,0,"button",5)),n&2&&(l(2),s("ngIf",o.resourceData.length>0),l(),s("ngIf",o.resourceData.length===0&&!o.loading),l(),s("ngIf",o.resourceData.length>0),l(),s("ngIf",o.resourceData.length>0),l(),s("ngIf",o.resourceData.length>0))},dependencies:[R,S,H,W,Y,dt,Ee,Ce,ne,At,V,N,ot,zt,Nt,Ut,$t,Vt,Gt,qt,Bt,Ht,Qt,Wt,it],styles:[".resource-list-container[_ngcontent-%COMP%]{margin:16px;padding:16px;background-color:#fff;border-radius:8px;box-shadow:0 4px 10px #0000001a}.search-bar[_ngcontent-%COMP%]{width:100%;max-width:400px}.bulk-actions-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:16px;margin-bottom:16px}.bulk-actions-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:700}.mat-form-field.search-bar[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.generic-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}mat-header-cell[_ngcontent-%COMP%]{font-weight:700;background-color:#f0eeee;text-transform:uppercase;font-size:.9em;text-align:left}mat-row.clickable-row[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .3s}mat-row.clickable-row[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.actions-column-header[_ngcontent-%COMP%], .mat-cell.actions-cell[_ngcontent-%COMP%]{text-align:center}.mat-icon.info[_ngcontent-%COMP%]{color:#0288d1}.mat-icon.edit[_ngcontent-%COMP%]{color:#ffa000}.mat-icon.delete[_ngcontent-%COMP%]{color:#d32f2f}mat-paginator[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:flex-end}.add-resource-button[_ngcontent-%COMP%]{position:fixed;bottom:16px;right:16px;z-index:1000;width:80px;height:80px;border-radius:50%;box-shadow:0 4px 6px #0003;transition:transform .3s ease,box-shadow .3s ease;font-size:24px}.add-resource-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 6px 10px #0000004d}.add-resource-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.search-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.search-bar-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:250px}.search-bar[_ngcontent-%COMP%]{flex:1}.delete-all-button[_ngcontent-%COMP%]{white-space:nowrap}.overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;z-index:1001}.no-data-message[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;cursor:not-allowed}"]})}}return t})();var Ai=()=>["text","email","password","phone","tel"];function ji(t,c){if(t&1&&(i(0,"mat-error"),a(1),r()),t&2){let e=d(2).$implicit;l(),E("",e.errorMessage,".")}}function zi(t,c){if(t&1&&(i(0,"mat-error"),a(1),r()),t&2){let e=d(2).$implicit;l(),_(e.errorMessage)}}function Vi(t,c){if(t&1&&(i(0,"mat-error"),a(1),r()),t&2){let e=d(2).$implicit;l(),E("",e.errorMessage,".")}}function Ni(t,c){if(t&1&&(i(0,"mat-error"),a(1),r()),t&2){let e=d(2).$implicit;l(),E("",e.errorMessage,".")}}function $i(t,c){if(t&1&&(i(0,"mat-form-field",12)(1,"mat-label"),a(2),r(),p(3,"input",13),f(4,ji,2,1,"mat-error",14)(5,zi,2,1,"mat-error",14)(6,Vi,2,1,"mat-error",14)(7,Ni,2,1,"mat-error",14),r()),t&2){let e,n,o,m,h=d().$implicit,M=d();l(2),_(h.label),l(),s("type",h.type)("formControlName",h.name)("placeholder",h.placeholder||""),l(),s("ngIf",(e=M.form.get(h.name))==null?null:e.hasError("required")),l(),s("ngIf",(n=M.form.get(h.name))==null?null:n.hasError("pattern")),l(),s("ngIf",(o=M.form.get(h.name))==null?null:o.hasError("email")),l(),s("ngIf",(m=M.form.get(h.name))==null?null:m.hasError("minlength"))}}function qi(t,c){if(t&1){let e=I();i(0,"mat-form-field",12)(1,"mat-label"),a(2),r(),i(3,"input",15),g("change",function(o){x(e);let m=d().$implicit,h=d();return v(h.handleFileInput(o,m.name))}),r()()}if(t&2){let e=d().$implicit;l(2),_(e.label)}}function Bi(t,c){if(t&1&&(i(0,"div",10),f(1,$i,8,8,"mat-form-field",11)(2,qi,4,1,"mat-form-field",11),r()),t&2){let e=c.$implicit;l(),s("ngIf",ge(2,Ai).includes(e.type)),l(),s("ngIf",e.type==="file")}}function Ui(t,c){t&1&&(i(0,"div",16),p(1,"mat-spinner",17),r())}var Tn=(()=>{class t{constructor(e,n,o,m,h,M,j){this.fb=e,this.location=n,this.route=o,this.router=m,this.resourceService=h,this.snackBar=M,this.dialog=j,this.isSubmitting=!1}ngOnInit(){this.resourceType=this.route.snapshot.paramMap.get("resourceType"),this.loadResource(),this.initializeForm()}ngOnDestroy(){}loadResource(){console.log("champs a editer"),this.resource=K[this.resourceType]?.resource,this.resourceFieldsToEdit=this.resource.options.properties.editProperties,console.log("champs a editer",this.resourceFieldsToEdit),this.resource||(console.error("Ressource introuvable"),this.location.back())}passwordsMatchValidator(e){let n=e.get("password")?.value,o=e.get("confirm_password")?.value;return n&&o&&n!==o?{passwordsMismatch:!0}:null}initializeForm(){let e={};this.resourceFieldsToEdit.forEach(n=>{let o=n.required?[b.required]:[];n.type==="email"&&o.push(b.email),n.type==="password"&&o.push(b.minLength(6)),e[n.name]=["",o],e.role=["apprenant"]}),this.form=this.fb.group(e,{validators:this.passwordsMatchValidator})}handleFileInput(e,n){let o=e.target;o?.files&&this.form.get(n)?.setValue(o.files)}handleSubmit(){if(console.log("999999999999999999",this.form,"kkkkkkkkkkkkkkkkkkkkkk",this.resourceType),this.form.valid){this.isSubmitting=!0;let e=this.dialog.open(Ie,{data:{title:"Confirmer la soumission",message:"\xCAtes-vous s\xFBr de vouloir soumettre ces informations ?"}}),n=new FormData;e.afterClosed().subscribe(o=>{if(o){let m=new FormData;m.append("nom",this.form.get("nom")?.value),m.append("prenom",this.form.get("prenom")?.value),m.append("email",this.form.get("email")?.value),m.append("password",this.form.get("password")?.value),m.append("phone_number",this.form.get("phone_number")?.value),m.append("role",this.form.get("role")?.value),console.log("mmmmmmmmmmmmmmmmm",m),m.forEach((h,M)=>{console.log(`${M}: ${h}`)}),this.resourceService.createResource(this.resourceType="register",m).subscribe({next:h=>{this.isSubmitting=!1,this.snackBar.open("Ressource cr\xE9\xE9e avec succ\xE8s!","Fermer",{duration:3e3,panelClass:"toast-success"}),this.location.back()},error:h=>{this.isSubmitting=!1,this.snackBar.open("Erreur lors de la cr\xE9ation de la ressource","Fermer",{duration:3e3,panelClass:"toast-error"})}})}else this.isSubmitting=!1})}else this.form.markAllAsTouched()}handleCancel(){this.location.back()}static{this.\u0275fac=function(n){return new(n||t)(u(G),u(he),u(F),u(k),u(re),u(xe),u(Me))}}static{this.\u0275cmp=C({type:t,selectors:[["app-resource-create"]],standalone:!1,decls:15,vars:5,consts:[[1,"generic-create-card"],["color","primary",1,"generic-create-toolbar"],["mat-icon-button","",3,"click"],[1,"generic-create-form",3,"ngSubmit","formGroup"],[1,"form-field-container"],["class","form-field",4,"ngFor","ngForOf"],[1,"actions"],["mat-raised-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["class","overlay",4,"ngIf"],[1,"form-field"],["appearance","outline",4,"ngIf"],["appearance","outline"],["matInput","",3,"type","formControlName","placeholder"],[4,"ngIf"],["matInput","","type","file",3,"change"],[1,"overlay"],["diameter","50"]],template:function(n,o){n&1&&(i(0,"mat-card",0)(1,"mat-toolbar",1)(2,"button",2),g("click",function(){return o.handleCancel()}),i(3,"mat-icon"),a(4,"arrow_back"),r()(),a(5),r(),i(6,"form",3),g("ngSubmit",function(){return o.handleSubmit()}),i(7,"div",4),f(8,Bi,3,3,"div",5),i(9,"div",6)(10,"button",7),g("click",function(){return o.handleCancel()}),a(11," Annuler "),r(),i(12,"button",8),a(13," Cr\xE9er "),r()()()(),f(14,Ui,2,0,"div",9),r()),n&2&&(l(5),E(" Cr\xE9er un(e) ",o.resource.model," "),l(),s("formGroup",o.form),l(2),s("ngForOf",o.resourceFieldsToEdit),l(4),s("disabled",o.form.invalid||o.isSubmitting),l(2),s("ngIf",o.isSubmitting))},dependencies:[R,S,ve,H,W,Y,Ee,Ce,ne,Le,ie,q,V,N,$,B,U,ye],styles:[".generic-create-card[_ngcontent-%COMP%]{margin:24px auto;padding:24px;max-width:700px;box-shadow:0 4px 10px #00000026;border-radius:8px}.generic-create-toolbar[_ngcontent-%COMP%]{font-size:1.6em;font-weight:500;display:flex;justify-content:space-between;align-items:center;padding:16px;color:#fff}.generic-create-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:auto}.generic-create-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-align:center}.generic-create-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px;padding-top:16px}.form-field-container[_ngcontent-%COMP%]{position:relative;z-index:1}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-form-field[_ngcontent-%COMP%]{width:100%}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px;margin-top:24px}button[type=submit][_ngcontent-%COMP%], button[type=button][_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;padding:12px 24px;min-width:120px;transition:background-color .3s,transform .3s}button[type=submit][_ngcontent-%COMP%]:hover, button[type=button][_ngcontent-%COMP%]:hover{transform:scale(1.05)}mat-error[_ngcontent-%COMP%]{font-size:.875em;color:red}mat-form-field[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{font-size:1rem}mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{font-size:1rem}@media (max-width: 600px){.generic-create-card[_ngcontent-%COMP%]{padding:16px;margin:16px;max-width:100%}.generic-create-form[_ngcontent-%COMP%]{gap:16px}.actions[_ngcontent-%COMP%]{justify-content:center}}.generic-create-card[_ngcontent-%COMP%]{position:relative}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;display:flex;justify-content:center;align-items:center;z-index:9999}.mat-spinner[_ngcontent-%COMP%]{color:#fff}"]})}}return t})();var Gi=()=>["text","email","password","tel","phone"];function Hi(t,c){if(t&1&&(i(0,"mat-error"),a(1),r()),t&2){let e=d(2).$implicit;l(),E("",e.errorMessage,".")}}function Qi(t,c){if(t&1&&(i(0,"mat-error"),a(1),r()),t&2){let e=d(2).$implicit;l(),_(e.errorMessage)}}function Xi(t,c){if(t&1&&(i(0,"mat-error"),a(1),r()),t&2){let e=d(2).$implicit;l(),E("",e.errorMessage,".")}}function Wi(t,c){if(t&1&&(i(0,"mat-error"),a(1),r()),t&2){let e=d(2).$implicit;l(),E("",e.errorMessage,".")}}function Ji(t,c){if(t&1&&(i(0,"mat-form-field",12)(1,"mat-label"),a(2),r(),p(3,"input",13),f(4,Hi,2,1,"mat-error",14)(5,Qi,2,1,"mat-error",14)(6,Xi,2,1,"mat-error",14)(7,Wi,2,1,"mat-error",14),r()),t&2){let e,n,o,m,h=d().$implicit,M=d();l(2),_(h.label),l(),s("type",h.type)("formControlName",h.name)("placeholder",h.placeholder||""),l(),s("ngIf",(e=M.form.get(h.name))==null?null:e.hasError("required")),l(),s("ngIf",(n=M.form.get(h.name))==null?null:n.hasError("pattern")),l(),s("ngIf",(o=M.form.get(h.name))==null?null:o.hasError("email")),l(),s("ngIf",(m=M.form.get(h.name))==null?null:m.hasError("minlength"))}}function Yi(t,c){if(t&1){let e=I();i(0,"mat-form-field",12)(1,"mat-label"),a(2),r(),i(3,"input",15),g("change",function(o){x(e);let m=d().$implicit,h=d();return v(h.handleFileInput(o,m.name))}),r()()}if(t&2){let e=d().$implicit;l(2),_(e.label)}}function Ki(t,c){if(t&1&&(i(0,"div",10),f(1,Ji,8,8,"mat-form-field",11)(2,Yi,4,1,"mat-form-field",11),r()),t&2){let e=c.$implicit;l(),s("ngIf",ge(2,Gi).includes(e.type)),l(),s("ngIf",e.type==="file")}}function Zi(t,c){t&1&&(i(0,"div",16),p(1,"mat-spinner",17),r())}var Dn=(()=>{class t{constructor(e,n,o,m,h,M){this.route=e,this.resourceService=n,this.snackBar=o,this.router=m,this.location=h,this.fb=M,this.loading=!1,this.resourceToEdit=null,this.isLoading=!0,this.errorMessage=null,this.passwordMatchValidator=j=>{let ae=j.get("password")?.value,le=j.get("confirm_password")?.value;return ae&&le&&ae!==le?{mismatch:!0}:null}}ngOnInit(){this.resourceId=this.route.snapshot.paramMap.get("id"),this.resourceType=this.route.snapshot.paramMap.get("resourceType"),console.log("Log: [La resource] :",this.resourceType),console.log("Log: [Id de la resource] :",this.resourceId),this.resource=K[this.resourceType]?.resource,this.resourceFieldsToEdit=this.resource.options.properties.editProperties,this.initializeForm(),this.resourceId?this.loadResource(this.resourceType,this.resourceId):(this.isLoading=!1,this.showToast("ID resource manquant","error"))}ngOnDestroy(){}initializeForm(){let e={};this.resourceFieldsToEdit.forEach(n=>{let o=[n.required?b.required:null].filter(m=>m!==null);n.type==="email"&&o.push(b.email),n.type==="password"&&o.push(b.minLength(6)),e[n.name]=["",o]}),this.form=this.fb.group(e,{validators:[this.passwordMatchValidator]})}populateForm(){if(this.resourceToEdit){let e={};this.resourceFieldsToEdit.forEach(n=>{this.resourceToEdit[n.name]!==void 0&&(e[n.name]=this.resourceToEdit[n.name])}),this.form.patchValue(e)}}loadResource(e,n){this.resourceService.getResource(e,n).subscribe({next:o=>{this.resourceToEdit=o,this.isLoading=!1,this.populateForm(),console.log("mmmmmmmmmmmm",this.resourceToEdit)},error:o=>{this.errorMessage="Impossible de charger les donn\xE9es.",this.isLoading=!1,this.showToast("Erreur lors du chargement","error")}})}onSubmit(e){if(!this.resourceToEdit||!e){this.showToast("Donn\xE9es invalides","error");return}if(!this.resourceToEdit.id){this.showToast("L'ID est manquant","error");return}this.isLoading=!0,this.resourceService.updateResource(this.resourceType,this.resourceToEdit.id,e).subscribe({next:()=>{this.isLoading=!1,this.showToast("Mise \xE0 jour r\xE9ussie","success"),this.location.back()},error:()=>{this.isLoading=!1,this.showToast("Erreur lors de la mise \xE0 jour","error")}})}handleSubmit(){this.form.valid?this.onSubmit(this.form.value):this.form.markAllAsTouched()}handleCancel(){this.location.back(),this.showToast("Modification annul\xE9e","info")}handleBack(){this.location.back()}showToast(e,n){this.snackBar.open(e,"Fermer",{duration:3e4,panelClass:`toast-${n}`})}handleFileInput(e,n){let o=e.target;o?.files&&this.form.get(n)?.setValue(o.files)}static{this.\u0275fac=function(n){return new(n||t)(u(F),u(re),u(xe),u(k),u(he),u(G))}}static{this.\u0275cmp=C({type:t,selectors:[["app-resource-edit"]],standalone:!1,decls:18,vars:7,consts:[[1,"generic-edit-card"],["color","primary",1,"generic-edit-toolbar"],["mat-icon-button","",3,"click"],[1,"generic-edit-form",3,"ngSubmit","formGroup"],[1,"form-field-container"],["class","form-field",4,"ngFor","ngForOf"],[1,"actions"],["mat-raised-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["class","overlay",4,"ngIf"],[1,"form-field"],["appearance","outline",4,"ngIf"],["appearance","outline"],["matInput","",3,"type","formControlName","placeholder"],[4,"ngIf"],["matInput","","type","file",3,"change"],[1,"overlay"],["diameter","50"]],template:function(n,o){n&1&&(i(0,"mat-card",0)(1,"mat-toolbar",1)(2,"button",2),g("click",function(){return o.handleBack()}),i(3,"mat-icon"),a(4,"arrow_back"),r()(),i(5,"span"),a(6),Fe(7,"lowercase"),r()(),i(8,"form",3),g("ngSubmit",function(){return o.handleSubmit()}),i(9,"div",4),f(10,Ki,3,3,"div",5),i(11,"div",6)(12,"button",7),g("click",function(){return o.handleCancel()}),a(13," Annuler "),r(),i(14,"button",8),a(15," Valider "),r()()()(),f(16,Zi,2,0,"div",9),r(),a(17,` bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
`)),n&2&&(l(6),E("Modifier un(e) ",Ze(7,5,o.resource.model),""),l(2),s("formGroup",o.form),l(2),s("ngForOf",o.resourceFieldsToEdit),l(4),s("disabled",o.form.invalid||o.isLoading),l(2),s("ngIf",o.isLoading))},dependencies:[R,S,ve,H,W,Y,Ee,Ce,ne,Le,ie,q,V,N,$,B,U,ye,nt],styles:[".generic-edit-card[_ngcontent-%COMP%]{margin:24px auto;padding:24px;max-width:700px;box-shadow:0 4px 10px #00000026;border-radius:8px}.generic-edit-toolbar[_ngcontent-%COMP%]{font-size:1.6em;font-weight:500;display:flex;justify-content:space-between;align-items:center;padding:16px;color:#fff}.generic-edit-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:auto}.generic-edit-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-align:center}.generic-edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px;padding-top:16px}.form-field-container[_ngcontent-%COMP%]{position:relative;z-index:1}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-form-field[_ngcontent-%COMP%]{width:100%}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px;margin-top:24px}button[type=submit][_ngcontent-%COMP%], button[type=button][_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;padding:12px 24px;min-width:120px;transition:background-color .3s,transform .3s}button[type=submit][_ngcontent-%COMP%]:hover, button[type=button][_ngcontent-%COMP%]:hover{transform:scale(1.05)}mat-error[_ngcontent-%COMP%]{font-size:.875em;color:red}mat-form-field[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{font-size:1rem}mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{font-size:1rem}@media (max-width: 600px){.generic-edit-card[_ngcontent-%COMP%]{padding:16px;margin:16px;max-width:100%}.generic-edit-form[_ngcontent-%COMP%]{gap:16px}.actions[_ngcontent-%COMP%]{justify-content:center}}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;display:flex;justify-content:center;align-items:center;z-index:9999}.mat-spinner[_ngcontent-%COMP%]{color:#fff}"]})}}return t})();function er(t,c){t&1&&(i(0,"div",3),p(1,"mat-spinner",4),i(2,"p",5),a(3,"Chargement..."),r()())}function tr(t,c){t&1&&(i(0,"div",3),p(1,"mat-spinner",6),i(2,"p",5),a(3,"Suppression en cours..."),r()())}function nr(t,c){if(t&1&&(i(0,"div",7)(1,"mat-icon"),a(2,"error"),r(),i(3,"span"),a(4),r()()),t&2){let e=d();l(4),_(e.errorMessage)}}function ir(t,c){if(t&1&&(i(0,"div",18)(1,"mat-label"),a(2),r(),i(3,"span",19),a(4),r()()),t&2){let e=c.$implicit,n=d(2);l(2),E("",e.label,":"),l(2),_(n.resource[e.name]||"Non disponible")}}function rr(t,c){t&1&&p(0,"mat-spinner",20)}function or(t,c){if(t&1){let e=I();i(0,"div",8)(1,"mat-card",9)(2,"mat-card-header",10)(3,"button",11),g("click",function(){x(e);let o=d();return v(o.handleBack())}),i(4,"mat-icon"),a(5,"arrow_back"),r()(),i(6,"mat-card-title"),a(7),r()(),i(8,"mat-card-content")(9,"div",12),f(10,ir,5,2,"div",13),r(),i(11,"div",14)(12,"button",15),g("click",function(){x(e);let o=d();return v(o.editResource())}),a(13,"Modifier"),r(),i(14,"button",16),g("click",function(){x(e);let o=d();return v(o.deleteResource())}),f(15,rr,1,0,"mat-spinner",17),a(16," Supprimer "),r()()()()()}if(t&2){let e=d();l(7),E("D\xE9tails ",e.resource.model,""),l(3),s("ngForOf",e.resourceFields),l(4),s("disabled",e.isDeleting),l(),s("ngIf",e.isDeleting)}}var Fn=(()=>{class t{constructor(e,n,o,m,h,M){this.route=e,this.resourceService=n,this.snackBar=o,this.location=m,this.router=h,this.dialog=M,this.isLoading=!0,this.isDeleting=!1,this.errorMessage=null}ngOnInit(){this.resourceId=this.route.snapshot.paramMap.get("id"),this.resourceType=this.route.snapshot.paramMap.get("resourceType"),K[this.resourceType]?(this.resource=K[this.resourceType]?.resource,this.resourceFields=this.resource.options.properties.showProperties,this.loadResource(this.resourceType,this.resourceId)):(this.isLoading=!1,this.showToast("Type de ressource inconnu","error"))}ngOnDestroy(){}loadResource(e,n){this.resourceService.getResource(e,n).subscribe({next:o=>{this.resource=o,this.isLoading=!1},error:o=>{this.errorMessage="Impossible de charger les donn\xE9es.",this.isLoading=!1,this.showToast("Erreur lors du chargement","error")}})}showToast(e,n){this.snackBar.open(e,"Fermer",{duration:3e3,panelClass:`toast-${n}`})}handleBack(){this.location.back()}editResource(){this.router.navigate([`admin/edit/${this.resourceType}/${this.resourceId}`])}deleteResource(){this.dialog.open(Ie,{data:{title:"Confirmer la suppression",message:"\xCAtes-vous s\xFBr de vouloir supprimer cette ressource ?"}}).afterClosed().subscribe(n=>{n&&(this.isDeleting=!0,this.resourceService.deleteResource(this.resourceType,this.resourceId).subscribe({next:()=>{this.isDeleting=!1,this.showToast("Ressource supprim\xE9e avec succ\xE8s","success"),this.location.back()},error:o=>{this.isDeleting=!1,this.showToast("Erreur lors de la suppression","error")}}))})}static{this.\u0275fac=function(n){return new(n||t)(u(F),u(re),u(xe),u(he),u(k),u(Me))}}static{this.\u0275cmp=C({type:t,selectors:[["app-resource-details"]],standalone:!1,decls:4,vars:4,consts:[["class","loading-container",4,"ngIf"],["class","error-message",4,"ngIf"],["class","resource-details-container",4,"ngIf"],[1,"loading-container"],["diameter","50"],[1,"loading-text"],["diameter","50","mode","indeterminate"],[1,"error-message"],[1,"resource-details-container"],[1,"resource-card"],[1,"header"],["mat-icon-button","",3,"click"],[1,"info-section"],["class","info-item",4,"ngFor","ngForOf"],[1,"actions-section"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click","disabled"],["diameter","20","mode","indeterminate",4,"ngIf"],[1,"info-item"],[1,"field-value"],["diameter","20","mode","indeterminate"]],template:function(n,o){n&1&&f(0,er,4,0,"div",0)(1,tr,4,0,"div",0)(2,nr,5,1,"div",1)(3,or,17,4,"div",2),n&2&&(s("ngIf",o.isLoading),l(),s("ngIf",o.isDeleting),l(),s("ngIf",o.errorMessage),l(),s("ngIf",!o.isLoading&&o.resource))},dependencies:[R,S,H,W,Y,ne,ie,Dt,Ft,Tt,ye],styles:[".loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffffb3;z-index:9999;flex-direction:column;color:#555}.loading-text[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:1rem}.error-message[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#f8d7da;color:#721c24;padding:16px;border-radius:8px;margin:20px;box-shadow:0 4px 10px #0000001a}.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.resource-details-container[_ngcontent-%COMP%]{padding:20px;background-color:#f5f5f5}.resource-card[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;box-shadow:0 8px 16px #0000001a;border-radius:10px}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:#3f51b5;color:#fff;text-align:center;padding:16px;font-size:1.25rem;font-weight:700;border-radius:10px 10px 0 0}mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600}.info-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-top:20px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-label[_ngcontent-%COMP%]{font-weight:500;color:#555}.field-value[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;margin-top:8px}.actions-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:50px}button[_ngcontent-%COMP%]{margin-right:12px;padding:10px 20px}button[_ngcontent-%COMP%]:hover{background-color:#004d40}button[_ngcontent-%COMP%]:focus{outline:none}mat-card[_ngcontent-%COMP%]{border-radius:8px}@media (max-width: 600px){.info-section[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return t})();var Rn=(()=>{class t{constructor(e){this.http=e,this.apiUrl=T.apiUrl}getApprenants(){return this.http.get(`${this.apiUrl}/apprenants/`)}deleteApprenant(e){return this.http.delete(`${this.apiUrl}/users/delete/${e}/`)}getApprenantsPaginated(e,n){let o=`${this.apiUrl}?page=${e}&size=${n}`;return this.http.get(o)}static{this.\u0275fac=function(n){return new(n||t)(P(O))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function lr(t,c){t&1&&(i(0,"div",4)(1,"span",5),a(2,"Chargement..."),r()())}function sr(t,c){t&1&&(i(0,"div",6),p(1,"img",7),i(2,"span",8),a(3,"Aucune donn\xE9e disponible"),r()())}function mr(t,c){if(t&1&&(i(0,"option",20),a(1),r()),t&2){let e=c.$implicit;s("value",e),l(),_(e)}}function cr(t,c){if(t&1){let e=I();i(0,"tr")(1,"td"),a(2),r(),i(3,"td"),a(4),r(),i(5,"td"),a(6),r(),i(7,"td"),a(8),r(),i(9,"td",21)(10,"button",22),g("click",function(){let o=x(e).$implicit,m=d(2);return v(m.allerDetail(o.id))}),i(11,"a"),p(12,"i",23),r()(),i(13,"button",24),g("click",function(){let o=x(e).$implicit,m=d(2);return v(m.allerEdit(o.id))}),i(14,"a"),p(15,"i",25),r()(),i(16,"button",24),g("click",function(){let o=x(e).$implicit,m=d(2);return v(m.onDeleteApprenant(o.id))}),i(17,"a"),p(18,"i",26),r()()()()}if(t&2){let e=c.$implicit,n=c.index,o=d(2);l(2),_((o.page-1)*o.size+n+1),l(2),z("",e.nom," ",e.prenom,""),l(2),_(e.email),l(2),_(e.phone_number)}}function pr(t,c){if(t&1){let e=I();i(0,"div",9)(1,"div",10)(2,"div")(3,"label",11),a(4,"Items par page:"),r(),i(5,"select",12),g("change",function(o){x(e);let m=d();return v(m.onPageSizeChange(o))}),f(6,mr,2,2,"option",13),r()(),i(7,"span"),a(8),r()(),i(9,"table",14)(10,"thead",15)(11,"tr")(12,"th"),a(13,"N"),r(),i(14,"th"),a(15,"Nom Complet"),r(),i(16,"th"),a(17,"Email"),r(),i(18,"th"),a(19,"Contact"),r(),i(20,"th"),a(21,"Action"),r()()(),i(22,"tbody"),f(23,cr,19,5,"tr",16),r()(),i(24,"div",17)(25,"button",18),g("click",function(){x(e);let o=d();return v(o.prevPage())}),a(26,"Pr\xE9c\xE9dent"),r(),i(27,"span"),a(28),r(),i(29,"button",19),g("click",function(){x(e);let o=d();return v(o.nextPage())}),a(30,"Suivant"),r()()()}if(t&2){let e=d();l(5),s("value",e.size),l(),s("ngForOf",e.sizeOptions),l(2),E("Total: ",e.apprenants.length," apprenants"),l(15),s("ngForOf",e.paginatedApprenants),l(2),s("disabled",e.page===1),l(3),z("Page ",e.page," de ",e.totalPages,""),l(),s("disabled",e.page===e.totalPages)}}var Ln=(()=>{class t{constructor(e,n){this.apprenantsService=e,this.route=n,this.apprenants=[],this.loading=!1,this.page=1,this.size=5,this.sizeOptions=[5,10,20,100],this.totalPages=0,this.paginatedApprenants=[]}ngOnInit(){this.loadApprenants()}loadApprenants(){this.loading=!0,this.apprenantsService.getApprenants().subscribe(e=>{this.apprenants=e,this.totalPages=Math.ceil(this.apprenants.length/this.size),this.updatePaginatedApprenants(),this.loading=!1},()=>{this.loading=!1})}updatePaginatedApprenants(){let e=(this.page-1)*this.size,n=e+this.size;this.paginatedApprenants=this.apprenants.slice(e,n)}nextPage(){this.page<this.totalPages&&(this.page++,this.updatePaginatedApprenants())}prevPage(){this.page>1&&(this.page--,this.updatePaginatedApprenants())}changePageSize(e){this.sizeOptions.includes(e)&&(this.size=e,this.page=1,this.totalPages=Math.ceil(this.apprenants.length/this.size),this.updatePaginatedApprenants())}onPageSizeChange(e){let n=e.target,o=parseInt(n.value,10);this.changePageSize(o)}allerDetail(e){this.route.navigate([`/admin/apprenants/${e}/detail/`])}allerEdit(e){this.route.navigate([`/admin/apprenants/${e}/update/`])}onDeleteApprenant(e){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet apprenant ?")&&this.apprenantsService.deleteApprenant(e).subscribe(()=>{this.apprenants=this.apprenants.filter(n=>n.id!==e),this.totalPages=Math.ceil(this.apprenants.length/this.size),this.page=Math.min(this.page,this.totalPages||1),this.updatePaginatedApprenants()})}static{this.\u0275fac=function(n){return new(n||t)(u(Rn),u(k))}}static{this.\u0275cmp=C({type:t,selectors:[["app-list-etudiants"]],decls:4,vars:3,consts:[[1,"container-xl","mt-4"],["class","loading-message d-flex flex-column align-items-center justify-content-center",4,"ngIf"],["class","no-data-message d-flex flex-column align-items-center justify-content-center",4,"ngIf"],["class","content",4,"ngIf"],[1,"loading-message","d-flex","flex-column","align-items-center","justify-content-center"],[1,"text-muted","fs-5"],[1,"no-data-message","d-flex","flex-column","align-items-center","justify-content-center"],["src","assets/no-data.png","alt","Aucune donn\xE9e disponible",1,"no-data-img","mb-3"],[1,"mt-2","text-muted","fs-5"],[1,"content"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["for","pageSize",1,"me-2"],["id","pageSize",1,"form-select","d-inline-block","w-auto",3,"change","value"],[3,"value",4,"ngFor","ngForOf"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"pagination","d-flex","justify-content-center","align-items-center","mt-3"],[1,"btn","btn-outline-primary","me-2",3,"click","disabled"],[1,"btn","btn-outline-primary","ms-2",3,"click","disabled"],[3,"value"],[2,"display","inline-flex"],[1,"d-flex",2,"border","none",3,"click"],[1,"bi","bi-info-circle"],[1,"d-flex",2,"border","none","padding-left","10px",3,"click"],[1,"bi","bi-pencil"],[1,"bi","bi-trash"]],template:function(n,o){n&1&&(i(0,"div",0),f(1,lr,3,0,"div",1)(2,sr,4,0,"div",2)(3,pr,31,8,"div",3),r()),n&2&&(l(),s("ngIf",o.loading),l(),s("ngIf",o.apprenants.length===0&&!o.loading),l(),s("ngIf",o.apprenants.length>0))},dependencies:[L,R,S,Oe,at,lt],styles:["table[_ngcontent-%COMP%]{width:100%;height:20px}td[_ngcontent-%COMP%]{vertical-align:middle}"]})}}return t})();var An=(()=>{class t{constructor(e){this.http=e,this.apiUrl=T.apiUrl}getApprenantById(e){return this.http.get(`${this.apiUrl}/apprenants/${e}/`)}static{this.\u0275fac=function(n){return new(n||t)(P(O))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ur(t,c){t&1&&(i(0,"div",2),p(1,"img",3),i(2,"span",4),a(3,"Aucune donn\xE9e disponible"),r()())}function fr(t,c){if(t&1&&(i(0,"div",5)(1,"h3"),a(2,"D\xE9tails de l'apprenant"),r(),i(3,"p"),a(4),r(),i(5,"p"),a(6),r(),i(7,"p"),a(8),r(),i(9,"p"),a(10),r()()),t&2){let e=d();l(4),z("Nom: ",e.apprenantDetail.nom," ",e.apprenantDetail.nom,""),l(2),E("Email: ",e.apprenantDetail.email,""),l(2),E("R\xF4le: ",e.apprenantDetail.role,""),l(2),E("Telephone: ",e.apprenantDetail.phone_number," ")}}var jn=(()=>{class t{constructor(e,n){this.detailApprenantsService=e,this.route=n,this.apprenantDetail=null,this.loading=!1}ngOnInit(){this.apprenantId=this.route.snapshot.params.detailApprenant,this.LoadApprenantDetail()}LoadApprenantDetail(){this.detailApprenantsService.getApprenantById(this.apprenantId).subscribe(e=>{this.apprenantDetail=e,console.log("kkkkkkk",this.apprenantDetail)})}static{this.\u0275fac=function(n){return new(n||t)(u(An),u(F))}}static{this.\u0275cmp=C({type:t,selectors:[["app-detail-etudiants"]],decls:2,vars:2,consts:[["class","no-data-message d-flex flex-column align-items-center justify-content-center",4,"ngIf"],["class","container-xl mt-4",4,"ngIf"],[1,"no-data-message","d-flex","flex-column","align-items-center","justify-content-center"],["src","assets/no-data.png","alt","Aucune donn\xE9e disponible",1,"no-data-img","mb-3"],[1,"mt-2","text-muted","fs-5"],[1,"container-xl","mt-4"]],template:function(n,o){n&1&&f(0,ur,4,0,"div",0)(1,fr,11,5,"div",1),n&2&&(s("ngIf",o.apprenantDetail.length===0&&!o.loading),l(),s("ngIf",o.apprenantDetail))},dependencies:[L,S],encapsulation:2})}}return t})();var zn=(()=>{class t{constructor(e){this.http=e,this.apiUrl=T.apiUrl}getApprenantById(e){return this.http.get(`${this.apiUrl}/apprenants/${e}/`)}updateApprenant(e,n){return this.http.put(`${this.apiUrl}/users/${e}/`,n)}static{this.\u0275fac=function(n){return new(n||t)(P(O))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Vn=(()=>{class t{constructor(e,n,o,m){this.formBuilder=e,this.route=n,this.router=o,this.editApprenantsService=m,this.filtreEncadrants=[],this.apprenantEdit="",this.apprenantForm=this.formBuilder.group({nom:["",b.required],prenom:["",b.required],email:["",[b.required,b.email]],phone_number:["",b.required],role:["apprenant",b.required]})}ngOnInit(){this.apprenantId=this.route.snapshot.params.updateApprenant,this.LoadApprenantEdit()}LoadApprenantEdit(){this.editApprenantsService.getApprenantById(this.apprenantId).subscribe(e=>{this.apprenantEdit=e,this.filtreloadApprenant()})}filtreloadApprenant(){this.apprenantForm.patchValue({nom:this.apprenantEdit.nom,prenom:this.apprenantEdit.prenom,email:this.apprenantEdit.email,phone_number:this.apprenantEdit.phone_number,role:"apprenant"})}updateApprenant(){if(this.apprenantForm.valid){let e=new FormData;e.append("nom",this.apprenantForm.value.nom),e.append("prenom",this.apprenantForm.value.prenom),e.append("email",this.apprenantForm.value.email),e.append("phone_number",this.apprenantForm.value.phone_number),e.append("role",this.apprenantForm.value.role),e.forEach((n,o)=>{console.log(`${o}: ${n}`)}),this.editApprenantsService.updateApprenant(this.apprenantId,this.apprenantForm.value).subscribe(()=>{this.router.navigate(["/admin/apprenants"])})}}static{this.\u0275fac=function(n){return new(n||t)(u(G),u(F),u(k),u(zn))}}static{this.\u0275cmp=C({type:t,selectors:[["app-edit-etudiants"]],decls:27,vars:2,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-6"],["for","nom",1,"form-label"],["id","nom","formControlName","nom","required","",1,"form-control"],["for","prenom",1,"form-label"],["id","prenom","formControlName","prenom","required","",1,"form-control"],["for","email",1,"form-label"],["id","email","formControlName","email","type","email","required","",1,"form-control"],["for","phone_number",1,"form-label"],["id","phone_number","formControlName","phone_number","required","",1,"form-control"],[1,"mt-3","mb-3","d-flex"],["type","submit","routerLink","/admin/apprenants",1,"btn","btn-outline-danger","mx-2"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,o){n&1&&(i(0,"div",0)(1,"h2",1),a(2,"Modifier un apprenant"),r(),i(3,"form",2),g("ngSubmit",function(){return o.updateApprenant()}),i(4,"div",3)(5,"div",4)(6,"label",5),a(7,"Nom:"),r(),p(8,"input",6),r(),i(9,"div",4)(10,"label",7),a(11,"Pr\xE9nom:"),r(),p(12,"input",8),r()(),i(13,"div",3)(14,"div",4)(15,"label",9),a(16,"Email:"),r(),p(17,"input",10),r(),i(18,"div",4)(19,"label",11),a(20,"T\xE9l\xE9phone:"),r(),p(21,"input",12),r()(),i(22,"div",13)(23,"button",14),a(24,"Annuler"),r(),i(25,"button",15),a(26,"Modifier"),r()()()()),n&2&&(l(3),s("formGroup",o.apprenantForm),l(22),s("disabled",o.apprenantForm.invalid))},dependencies:[X,q,V,N,$,_e,B,U],encapsulation:2})}}return t})();var Nn=(()=>{class t{constructor(e){this.http=e,this.apiUrl=T.apiUrl}getEncadrants(){return this.http.get(`${this.apiUrl}/encadrants/`)}deleteEncadrant(e){return this.http.delete(`${this.apiUrl}/users/delete/${e}/`)}static{this.\u0275fac=function(n){return new(n||t)(P(O))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _r(t,c){t&1&&(i(0,"div",5)(1,"span",6),a(2,"Chargement..."),r()())}function br(t,c){t&1&&(i(0,"div",7),p(1,"img",8),i(2,"span",9),a(3,"Aucune donn\xE9e disponible"),r()())}function xr(t,c){if(t&1&&(i(0,"option",21),a(1),r()),t&2){let e=c.$implicit;s("value",e),l(),_(e)}}function vr(t,c){if(t&1){let e=I();i(0,"tr")(1,"td"),a(2),r(),i(3,"td")(4,"div",22),p(5,"img",23),r()(),i(6,"td"),a(7),r(),i(8,"td"),a(9),r(),i(10,"td"),a(11),r(),i(12,"td",24)(13,"button",25),g("click",function(){let o=x(e).$implicit,m=d(2);return v(m.allerDetail(o.id))}),i(14,"a"),p(15,"i",26),r()(),i(16,"button",27),g("click",function(){let o=x(e).$implicit,m=d(2);return v(m.allerEdit(o.id))}),i(17,"a"),p(18,"i",28),r()(),i(19,"button",27),g("click",function(){let o=x(e).$implicit,m=d(2);return v(m.onDeleteEncadrant(o.id))}),i(20,"a"),p(21,"i",29),r()()()()}if(t&2){let e=c.$implicit,n=c.index,o=d(2);l(2),_((o.page-1)*o.size+n+1),l(3),s("src",e.profile_pic,se),l(2),z("",e.nom," ",e.prenom,""),l(2),_(e.email),l(2),_(e.phone_number)}}function Cr(t,c){if(t&1){let e=I();i(0,"div",10)(1,"div",11)(2,"div")(3,"label",12),a(4,"Items par page:"),r(),i(5,"select",13),g("change",function(o){x(e);let m=d();return v(m.onPageSizeChange(o))}),f(6,xr,2,2,"option",14),r()(),i(7,"span"),a(8),r()(),i(9,"table",15)(10,"thead",16)(11,"tr")(12,"th"),a(13,"N"),r(),i(14,"th"),a(15,"Photo"),r(),i(16,"th"),a(17,"Nom"),r(),i(18,"th"),a(19,"Mail"),r(),i(20,"th"),a(21,"T\xE9l\xE9phone"),r(),i(22,"th"),a(23,"Action"),r()()(),i(24,"tbody"),f(25,vr,22,6,"tr",17),r()(),i(26,"div",18)(27,"button",19),g("click",function(){x(e);let o=d();return v(o.prevPage())}),a(28,"Pr\xE9c\xE9dent"),r(),i(29,"span"),a(30),r(),i(31,"button",20),g("click",function(){x(e);let o=d();return v(o.nextPage())}),a(32,"Suivant"),r()()()}if(t&2){let e=d();l(5),s("value",e.size),l(),s("ngForOf",e.sizeOptions),l(2),E("Total: ",e.encadrants.length," encadrants"),l(17),s("ngForOf",e.paginatedEncadrants),l(2),s("disabled",e.page===1),l(3),z("Page ",e.page," de ",e.totalPages,""),l(),s("disabled",e.page===e.totalPages)}}var $n=(()=>{class t{constructor(e,n){this.listEncadrantService=e,this.route=n,this.encadrants=[],this.loading=!1,this.page=1,this.size=5,this.sizeOptions=[5,10,20,100],this.totalPages=0,this.paginatedEncadrants=[]}ngOnInit(){this.loadEncadrants()}loadEncadrants(){this.loading=!0,this.listEncadrantService.getEncadrants().subscribe(e=>{this.encadrants=e,this.totalPages=Math.ceil(this.encadrants.length/this.size),this.updatePaginatedEncadrant(),this.loading=!1},()=>{this.loading=!1})}updatePaginatedEncadrant(){let e=(this.page-1)*this.size,n=e+this.size;this.paginatedEncadrants=this.encadrants.slice(e,n)}nextPage(){this.page<this.totalPages&&(this.page++,this.updatePaginatedEncadrant())}prevPage(){this.page>1&&(this.page--,this.updatePaginatedEncadrant())}changePageSize(e){this.sizeOptions.includes(e)&&(this.size=e,this.page=1,this.totalPages=Math.ceil(this.encadrants.length/this.size),this.updatePaginatedEncadrant())}onPageSizeChange(e){let n=e.target,o=parseInt(n.value,10);this.changePageSize(o)}allerDetail(e){this.route.navigate([`/admin/formateurs/${e}/detail/`])}allerEdit(e){this.route.navigate([`/admin/formateurs/${e}/update/`])}onDeleteEncadrant(e){confirm("Voulez-vous vraiment supprimer cet utilisateur ?")&&this.listEncadrantService.deleteEncadrant(e).subscribe(()=>{this.encadrants=this.encadrants.filter(n=>n.id!==e),this.totalPages=Math.ceil(this.encadrants.length/this.size),this.page=Math.min(this.page,this.totalPages||1),this.updatePaginatedEncadrant()})}static{this.\u0275fac=function(n){return new(n||t)(u(Nn),u(k))}}static{this.\u0275cmp=C({type:t,selectors:[["app-list-etudiants"]],decls:6,vars:3,consts:[[1,"container-xl","mt-4"],["class","loading-message d-flex flex-column align-items-center justify-content-center",4,"ngIf"],["class","no-data-message d-flex flex-column align-items-center justify-content-center",4,"ngIf"],["class","content",4,"ngIf"],["routerLink","/admin/create-formateur",1,"floating-button"],[1,"loading-message","d-flex","flex-column","align-items-center","justify-content-center"],[1,"text-muted","fs-5"],[1,"no-data-message","d-flex","flex-column","align-items-center","justify-content-center"],["src","assets/no-data.png","alt","Aucune donn\xE9e disponible",1,"no-data-img","mb-3"],[1,"mt-2","text-muted","fs-5"],[1,"content"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["for","pageSize",1,"me-2"],["id","pageSize",1,"form-select","d-inline-block","w-auto",3,"change","value"],[3,"value",4,"ngFor","ngForOf"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"pagination","d-flex","justify-content-center","align-items-center","mt-3"],[1,"btn","btn-outline-primary","me-2",3,"click","disabled"],[1,"btn","btn-outline-primary","ms-2",3,"click","disabled"],[3,"value"],[1,"user-icon"],["alt","gb",2,"width","100%","height","auto",3,"src"],[2,"display","inline-flex"],[1,"d-flex",2,"border","none",3,"click"],[1,"bi","bi-info-circle"],[1,"d-flex",2,"border","none","padding-left","10px",3,"click"],[1,"bi","bi-pencil"],[1,"bi","bi-trash"]],template:function(n,o){n&1&&(i(0,"div",0),f(1,_r,3,0,"div",1)(2,br,4,0,"div",2)(3,Cr,33,8,"div",3),r(),i(4,"button",4),a(5," + "),r()),n&2&&(l(),s("ngIf",o.loading),l(),s("ngIf",o.encadrants.length===0&&!o.loading),l(),s("ngIf",o.encadrants.length>0))},dependencies:[L,R,S,ee],styles:[".no-data-message[_ngcontent-%COMP%]{height:50vh;font-size:1.2rem;color:#6c757d}.fixed-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1050}.no-data-img[_ngcontent-%COMP%]{max-width:150px;height:auto;opacity:.7}.header-bar[_ngcontent-%COMP%]{background-color:#9b59b6;color:#fff;text-align:center;padding:20px 0}.breadcrumb[_ngcontent-%COMP%]{background-color:transparent;margin-bottom:0;font-size:.9rem}.search-bar[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:15px;display:flex;align-items:center;box-shadow:0 2px 4px #0000001a;width:250px;padding:2px 5px 2px 10px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;background:transparent;flex:1;font-size:16px;width:20px;padding-left:10px}.search-bar[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem;color:gray}.bg-purple[_ngcontent-%COMP%]{background-color:#af7ac5}.btn-primary[_ngcontent-%COMP%]{background-color:#af7ac5;border-color:#af7ac5}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#9c6fb0;border-color:#9c6fb0}.floating-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;background-color:#9c6fb0;color:#fff;border:none;border-radius:50%;width:80px;height:80px;font-size:24px;line-height:60px;text-align:center;box-shadow:2px 2px 5px #0000004d;cursor:pointer}.floating-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.user-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;height:20px}td[_ngcontent-%COMP%]{vertical-align:middle}"]})}}return t})();var qn=(()=>{class t{constructor(e){this.http=e,this.apiUrl=T.apiUrl}getEncadrantByIds(e){return this.http.get(`${this.apiUrl}/encadrants/${e}/`)}static{this.\u0275fac=function(n){return new(n||t)(P(O))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yr(t,c){t&1&&(i(0,"div",2),p(1,"img",3),i(2,"span",4),a(3,"Aucune donn\xE9e disponible"),r()())}function Mr(t,c){if(t&1&&(i(0,"div",5)(1,"h3"),a(2,"D\xE9tails de l'apprenant"),r(),i(3,"div",6),p(4,"img",7),r(),i(5,"p"),a(6),r(),i(7,"p"),a(8),r(),i(9,"p"),a(10),r(),i(11,"p"),a(12),r(),i(13,"p"),a(14),r(),i(15,"p"),a(16),r()()),t&2){let e=d();l(4),s("src",e.encadrantDetail.profile_pic,se),l(2),z("Nom: ",e.encadrantDetail.nom," ",e.encadrantDetail.nom,""),l(2),E("Email: ",e.encadrantDetail.email,""),l(2),E("Role: ",e.encadrantDetail.role,""),l(2),E("Specialite: ",e.encadrantDetail.specialite,""),l(2),E("Fonction: ",e.encadrantDetail.fonction,""),l(2),E("Telephone: ",e.encadrantDetail.phone_number," ")}}var Bn=(()=>{class t{constructor(e,n){this.detailEncadrantService=e,this.route=n,this.encadrantDetail=null,this.loading=!1}ngOnInit(){this.encadrantId=this.route.snapshot.params.detailFormateur,this.LoadEncadrantDetail()}LoadEncadrantDetail(){this.detailEncadrantService.getEncadrantByIds(this.encadrantId).subscribe(e=>{this.encadrantDetail=e,console.log("kkkkkkk",this.encadrantDetail)})}static{this.\u0275fac=function(n){return new(n||t)(u(qn),u(F))}}static{this.\u0275cmp=C({type:t,selectors:[["app-detail-etudiants"]],decls:2,vars:2,consts:[["class","no-data-message d-flex flex-column align-items-center justify-content-center",4,"ngIf"],["class","container-xl mt-4",4,"ngIf"],[1,"no-data-message","d-flex","flex-column","align-items-center","justify-content-center"],["src","assets/no-data.png","alt","Aucune donn\xE9e disponible",1,"no-data-img","mb-3"],[1,"mt-2","text-muted","fs-5"],[1,"container-xl","mt-4"],[1,"user-icon"],["alt","gb",2,"width","100%","height","auto",3,"src"]],template:function(n,o){n&1&&f(0,yr,4,0,"div",0)(1,Mr,17,8,"div",1),n&2&&(s("ngIf",o.encadrantDetail.length===0&&!o.loading),l(),s("ngIf",o.encadrantDetail))},dependencies:[L,S],styles:[".user-icon[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;overflow:hidden}"]})}}return t})();var Un=(()=>{class t{constructor(e){this.http=e,this.apiUrl=T.apiUrl}getEncadrantById(e){return this.http.get(`${this.apiUrl}/encadrants/${e}/`)}updateEncadrant(e,n){return this.http.put(`${this.apiUrl}/users/${e}/`,n)}static{this.\u0275fac=function(n){return new(n||t)(P(O))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Gn=(()=>{class t{constructor(e,n,o,m){this.formBuilder=e,this.route=n,this.router=o,this.editEncadrantService=m,this.filtreEncadrants=[],this.encadrantEdit="",this.encadrantForm=this.formBuilder.group({nom:["",b.required],prenom:["",b.required],email:["",[b.required,b.email]],specialite:["",b.required],fonction:["",b.required],phone_number:["",b.required],role:["apprenant",b.required]})}ngOnInit(){this.encadrantId=this.route.snapshot.params.updateFormateur,this.LoadEncadrantEdit()}LoadEncadrantEdit(){this.editEncadrantService.getEncadrantById(this.encadrantId).subscribe(e=>{this.encadrantEdit=e,this.filtreloadEncadrant()})}filtreloadEncadrant(){this.encadrantForm.patchValue({nom:this.encadrantEdit.nom,prenom:this.encadrantEdit.prenom,email:this.encadrantEdit.email,specialite:this.encadrantEdit.specialite,fonction:this.encadrantEdit.fonction,phone_number:this.encadrantEdit.phone_number,role:"apprenant"})}updateEncadrant(){if(this.encadrantForm.valid){let e=new FormData;e.append("nom",this.encadrantForm.value.nom),e.append("prenom",this.encadrantForm.value.prenom),e.append("email",this.encadrantForm.value.email),e.append("specialite",this.encadrantForm.value.specialite),e.append("fonction",this.encadrantForm.value.fonction),e.append("phone_number",this.encadrantForm.value.phone_number),e.append("role",this.encadrantForm.value.role),e.forEach((n,o)=>{console.log(`${o}: ${n}`)}),this.editEncadrantService.updateEncadrant(this.encadrantId,this.encadrantForm.value).subscribe(()=>{this.router.navigate(["/admin/formateurs"])})}}static{this.\u0275fac=function(n){return new(n||t)(u(G),u(F),u(k),u(Un))}}static{this.\u0275cmp=C({type:t,selectors:[["app-edit-etudiants"]],decls:36,vars:2,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-6"],["for","nom",1,"form-label"],["id","nom","formControlName","nom","required","",1,"form-control"],["for","prenom",1,"form-label"],["id","prenom","formControlName","prenom","required","",1,"form-control"],["for","specialite",1,"form-label"],["id","specialite","formControlName","specialite","type","text","required","",1,"form-control"],["for","fonction",1,"form-label"],["id","fonction","formControlName","fonction","type","text","required","",1,"form-control"],["for","email",1,"form-label"],["id","email","formControlName","email","type","email","required","",1,"form-control"],["for","phone_number",1,"form-label"],["id","phone_number","formControlName","phone_number","required","",1,"form-control"],[1,"mt-3","mb-3","d-flex"],["type","submit","routerLink","/admin/apprenants",1,"btn","btn-outline-danger","mx-2"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,o){n&1&&(i(0,"div",0)(1,"h2",1),a(2,"Modifier un Encadrant"),r(),i(3,"form",2),g("ngSubmit",function(){return o.updateEncadrant()}),i(4,"div",3)(5,"div",4)(6,"label",5),a(7,"Nom:"),r(),p(8,"input",6),r(),i(9,"div",4)(10,"label",7),a(11,"Pr\xE9nom:"),r(),p(12,"input",8),r()(),i(13,"div",3)(14,"div",4)(15,"label",9),a(16,"Sepcialite:"),r(),p(17,"input",10),r(),i(18,"div",4)(19,"label",11),a(20,"Fonction:"),r(),p(21,"input",12),r()(),i(22,"div",3)(23,"div",4)(24,"label",13),a(25,"Email:"),r(),p(26,"input",14),r(),i(27,"div",4)(28,"label",15),a(29,"T\xE9l\xE9phone:"),r(),p(30,"input",16),r()(),i(31,"div",17)(32,"button",18),a(33,"Annuler"),r(),i(34,"button",19),a(35,"Modifier"),r()()()()),n&2&&(l(3),s("formGroup",o.encadrantForm),l(31),s("disabled",o.encadrantForm.invalid))},dependencies:[X,q,V,N,$,_e,B,U],encapsulation:2})}}return t})();var Hn=(()=>{class t{constructor(e){this.http=e,this.apiUrl=T.apiUrl}createUser(e){return this.http.post(`${this.apiUrl}/register/`,e)}static{this.\u0275fac=function(n){return new(n||t)(P(O))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wr(t,c){t&1&&(i(0,"div")(1,"small",27),a(2,"Entrer un nom"),r()())}function Pr(t,c){t&1&&(i(0,"div")(1,"small",27),a(2,"Entrer un prenom"),r()())}function Or(t,c){t&1&&(i(0,"div")(1,"small",27),a(2,"Entrer un email"),r()())}function kr(t,c){t&1&&(i(0,"div")(1,"small",27),a(2,"Entrer un email"),r()())}function Tr(t,c){t&1&&(i(0,"div")(1,"small",27),a(2,"Entrer un numero de phone correct"),r()())}function Dr(t,c){t&1&&(i(0,"div")(1,"small",27),a(2,"Entrer sa specialite"),r()())}function Fr(t,c){t&1&&(i(0,"div")(1,"small",27),a(2,"Entrer sa specialite"),r()())}var Qn=(()=>{class t{constructor(e,n,o){this.fb=e,this.editEncadrantService=n,this.router=o,this.selectedFile=null}ngOnInit(){this.registrationForm=this.fb.group({nom:["",b.required],prenom:["",b.required],email:["",[b.required,b.email]],password:["",b.required],phone_number:["",b.required],image:["",b.required],specialite:["",b.required],fonction:["",b.required],role:"formateur",profile_pic:[null]})}onFileSelected(e){e.target.files.length>0&&(this.selectedFile=e.target.files[0])}onSubmit(){let e=new FormData;e.append("email",this.registrationForm.value.email),e.append("nom",this.registrationForm.value.nom),e.append("prenom",this.registrationForm.value.prenom),e.append("phone_number",this.registrationForm.value.phone_number),e.append("password",this.registrationForm.value.password),e.append("role",this.registrationForm.value.role),e.append("fonction",this.registrationForm.value.fonction),e.append("specialite",this.registrationForm.value.specialite),this.selectedFile&&e.append("profile_pic",this.selectedFile,this.selectedFile.name),e.forEach((n,o)=>{console.log(`${o}: ${n}`)}),this.editEncadrantService.createUser(e).subscribe(n=>{console.log("Utilisateur enregistr\xE9 avec succ\xE8s",n),this.router.navigate(["/admin/formateurs"])})}static{this.\u0275fac=function(n){return new(n||t)(u(G),u(Hn),u(k))}}static{this.\u0275cmp=C({type:t,selectors:[["app-edit-etudiants"]],decls:69,vars:8,consts:[[1,"container","d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"col-md-8","col-lg-6","p-4","shadow","rounded",2,"background-color","white"],[1,"my-4","text-center","text-primary"],[3,"ngSubmit","formGroup"],[1,"row","mb-3","align-items-center"],["for","nom",1,"col-sm-4","col-form-label"],[1,"col-sm-8","input-group"],[1,"input-group-text"],[1,"bi","bi-file-earmark-plus"],["type","text","id","nom","formControlName","nom","placeholder","nom",1,"form-control"],[4,"ngIf"],["for","prenom",1,"col-sm-4","col-form-label"],["type","text","id","prenom","formControlName","prenom","placeholder","Prenom",1,"form-control"],["for","email",1,"col-sm-4","col-form-label"],["type","text","id","email","formControlName","email","placeholder","email",1,"form-control"],["for","password",1,"col-sm-4","col-form-label"],["type","text","id","password","formControlName","password","placeholder","password",1,"form-control"],["for","phone_number",1,"col-sm-4","col-form-label"],["type","text","id","phone_number","formControlName","phone_number","placeholder","phone_number",1,"form-control"],["for","specialite",1,"col-sm-4","col-form-label"],["type","text","id","specialite","formControlName","specialite","placeholder","Specialite",1,"form-control"],["for","fonction",1,"col-sm-4","col-form-label"],["type","text","id","fonction","formControlName","fonction","placeholder","fonction",1,"form-control"],["type","file",3,"change"],[1,"d-flex","justify-content-between"],["type","submit",1,"btn","btn-primary"],["routerLink","/admin/formateur","type","button",1,"btn","btn-danger"],[1,"error"]],template:function(n,o){if(n&1&&(i(0,"body")(1,"div",0)(2,"div",1)(3,"h1",2),a(4,"Cr\xE9er un compte formateur"),r(),i(5,"form",3),g("ngSubmit",function(){return o.onSubmit()}),i(6,"div",4)(7,"label",5),a(8,"Nom de famille"),r(),i(9,"div",6)(10,"span",7),p(11,"i",8),r(),p(12,"input",9),f(13,wr,3,0,"div",10),r()(),i(14,"div",4)(15,"label",11),a(16,"Prenom"),r(),i(17,"div",6)(18,"span",7),p(19,"i",8),r(),p(20,"input",12),f(21,Pr,3,0,"div",10),r()(),i(22,"div",4)(23,"label",13),a(24,"Email"),r(),i(25,"div",6)(26,"span",7),p(27,"i",8),r(),p(28,"input",14),f(29,Or,3,0,"div",10),r()(),i(30,"div",4)(31,"label",15),a(32,"Password"),r(),i(33,"div",6)(34,"span",7),p(35,"i",8),r(),p(36,"input",16),f(37,kr,3,0,"div",10),r()(),i(38,"div",4)(39,"label",17),a(40,"Num\xE9ro de t\xE9l\xE9phone"),r(),i(41,"div",6)(42,"span",7),p(43,"i",8),r(),p(44,"input",18),f(45,Tr,3,0,"div",10),r()(),i(46,"div",4)(47,"label",19),a(48,"Specialite"),r(),i(49,"div",6)(50,"span",7),p(51,"i",8),r(),p(52,"input",20),f(53,Dr,3,0,"div",10),r()(),i(54,"div",4)(55,"label",21),a(56,"Fonction"),r(),i(57,"div",6)(58,"span",7),p(59,"i",8),r(),p(60,"input",22),f(61,Fr,3,0,"div",10),r()(),i(62,"input",23),g("change",function(h){return o.onFileSelected(h)}),r(),p(63,"br"),i(64,"div",24)(65,"button",25),a(66,"Ajouter"),r(),i(67,"button",26),a(68,"Annuler"),r()()()()()()),n&2){let m,h,M,j,ae,le,ke;l(5),s("formGroup",o.registrationForm),l(8),s("ngIf",((m=o.registrationForm.get("nom"))==null?null:m.invalid)&&((m=o.registrationForm.get("nom"))==null?null:m.touched)),l(8),s("ngIf",((h=o.registrationForm.get("prenom"))==null?null:h.invalid)&&((h=o.registrationForm.get("prenom"))==null?null:h.touched)),l(8),s("ngIf",((M=o.registrationForm.get("email"))==null?null:M.invalid)&&((M=o.registrationForm.get("email"))==null?null:M.touched)),l(8),s("ngIf",((j=o.registrationForm.get("password"))==null?null:j.invalid)&&((j=o.registrationForm.get("password"))==null?null:j.touched)),l(8),s("ngIf",((ae=o.registrationForm.get("phone_number"))==null?null:ae.invalid)&&((ae=o.registrationForm.get("phone_number"))==null?null:ae.touched)),l(8),s("ngIf",((le=o.registrationForm.get("specialite"))==null?null:le.invalid)&&((le=o.registrationForm.get("specialite"))==null?null:le.touched)),l(8),s("ngIf",((ke=o.registrationForm.get("fonction"))==null?null:ke.invalid)&&((ke=o.registrationForm.get("fonction"))==null?null:ke.touched))}},dependencies:[X,q,V,N,$,B,U,L,S],styles:[".no-data-message[_ngcontent-%COMP%]{height:50vh;font-size:1.2rem;color:#6c757d}.fixed-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1050}.no-data-img[_ngcontent-%COMP%]{max-width:150px;height:auto;opacity:.7}.error[_ngcontent-%COMP%]{color:#e53e3e;font-size:.9em;margin-top:5px}.header-bar[_ngcontent-%COMP%]{background-color:#9b59b6;color:#fff;text-align:center;padding:20px 0}.breadcrumb[_ngcontent-%COMP%]{background-color:transparent;margin-bottom:0;font-size:.9rem}.search-bar[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:15px;display:flex;align-items:center;box-shadow:0 2px 4px #0000001a;width:250px;padding:2px 5px 2px 10px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;background:transparent;flex:1;font-size:16px;width:20px;padding-left:10px}.search-bar[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem;color:gray}.bg-purple[_ngcontent-%COMP%]{background-color:#af7ac5}.btn-primary[_ngcontent-%COMP%]{background-color:#af7ac5;border-color:#af7ac5}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#9c6fb0;border-color:#9c6fb0}.floating-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;background-color:#9c6fb0;color:#fff;border:none;border-radius:50%;width:80px;height:80px;font-size:24px;line-height:60px;text-align:center;box-shadow:2px 2px 5px #0000004d;cursor:pointer}.floating-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return t})();var Xn=(()=>{class t{constructor(e){this.http=e,this.apiUrl=T.apiUrl}getEntreprises(){return this.http.get(`${this.apiUrl}/entreprises/`)}deleteEntreprise(e){return this.http.delete(`${this.apiUrl}/users/delete/${e}/`)}static{this.\u0275fac=function(n){return new(n||t)(P(O))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Lr(t,c){t&1&&(i(0,"div",5)(1,"span",6),a(2,"Chargement..."),r()())}function Ar(t,c){t&1&&(i(0,"div",7),p(1,"img",8),i(2,"span",9),a(3,"Aucune donn\xE9e disponible"),r()())}function jr(t,c){if(t&1&&(i(0,"option",21),a(1),r()),t&2){let e=c.$implicit;s("value",e),l(),_(e)}}function zr(t,c){if(t&1){let e=I();i(0,"tr")(1,"td"),a(2),r(),i(3,"td")(4,"div",22),p(5,"img",23),r()(),i(6,"td"),a(7),r(),i(8,"td"),a(9),r(),i(10,"td"),a(11),r(),i(12,"td",24)(13,"button",25),g("click",function(){let o=x(e).$implicit,m=d(2);return v(m.allerDetail(o.id))}),i(14,"a"),p(15,"i",26),r()(),i(16,"button",27),g("click",function(){let o=x(e).$implicit,m=d(2);return v(m.allerEdit(o.id))}),i(17,"a"),p(18,"i",28),r()(),i(19,"button",27),g("click",function(){let o=x(e).$implicit,m=d(2);return v(m.onDeleteEntreprise(o.id))}),i(20,"a"),p(21,"i",29),r()()()()}if(t&2){let e=c.$implicit,n=c.index,o=d(2);l(2),_((o.page-1)*o.size+n+1),l(3),s("src",e.profile_pic,se),l(2),E("",e.nom," "),l(2),_(e.email),l(2),_(e.phone_number)}}function Vr(t,c){if(t&1){let e=I();i(0,"div",10)(1,"div",11)(2,"div")(3,"label",12),a(4,"Items par page:"),r(),i(5,"select",13),g("change",function(o){x(e);let m=d();return v(m.onPageSizeChange(o))}),f(6,jr,2,2,"option",14),r()(),i(7,"span"),a(8),r()(),i(9,"table",15)(10,"thead",16)(11,"tr")(12,"th"),a(13,"N"),r(),i(14,"th"),a(15,"Photo"),r(),i(16,"th"),a(17,"Nom"),r(),i(18,"th"),a(19,"Mail"),r(),i(20,"th"),a(21,"T\xE9l\xE9phone"),r(),i(22,"th"),a(23,"Action"),r()()(),i(24,"tbody"),f(25,zr,22,5,"tr",17),r()(),i(26,"div",18)(27,"button",19),g("click",function(){x(e);let o=d();return v(o.prevPage())}),a(28,"Pr\xE9c\xE9dent"),r(),i(29,"span"),a(30),r(),i(31,"button",20),g("click",function(){x(e);let o=d();return v(o.nextPage())}),a(32,"Suivant"),r()()()}if(t&2){let e=d();l(5),s("value",e.size),l(),s("ngForOf",e.sizeOptions),l(2),E("Total: ",e.entreprises.length," entreprises"),l(17),s("ngForOf",e.paginatedEntreprise),l(2),s("disabled",e.page===1),l(3),z("Page ",e.page," de ",e.totalPages,""),l(),s("disabled",e.page===e.totalPages)}}var Wn=(()=>{class t{constructor(e,n){this.listEntrepriseService=e,this.route=n,this.entreprises=[],this.loading=!1,this.page=1,this.size=5,this.sizeOptions=[5,10,20,100],this.totalPages=0,this.paginatedEntreprise=[]}ngOnInit(){this.loadEntreprises()}loadEntreprises(){this.loading=!0,this.listEntrepriseService.getEntreprises().subscribe(e=>{this.entreprises=e,this.totalPages=Math.ceil(this.entreprises.length/this.size),this.updatePaginatedEntreprise(),this.loading=!1},()=>{this.loading=!1})}updatePaginatedEntreprise(){let e=(this.page-1)*this.size,n=e+this.size;this.paginatedEntreprise=this.entreprises.slice(e,n)}nextPage(){this.page<this.totalPages&&(this.page++,this.updatePaginatedEntreprise())}prevPage(){this.page>1&&(this.page--,this.updatePaginatedEntreprise())}changePageSize(e){this.sizeOptions.includes(e)&&(this.size=e,this.page=1,this.totalPages=Math.ceil(this.entreprises.length/this.size),this.updatePaginatedEntreprise())}onPageSizeChange(e){let n=e.target,o=parseInt(n.value,10);this.changePageSize(o)}allerDetail(e){this.route.navigate([`/admin/entreprises/${e}/detail/`])}allerEdit(e){this.route.navigate([`/admin/entreprises/${e}/update/`])}onDeleteEntreprise(e){confirm("Voulez-vous vraiment supprimer cet utilisateur ?")&&this.listEntrepriseService.deleteEntreprise(e).subscribe(()=>{this.entreprises=this.entreprises.filter(n=>n.id!==e),this.totalPages=Math.ceil(this.entreprises.length/this.size),this.page=Math.min(this.page,this.totalPages||1),this.updatePaginatedEntreprise()})}static{this.\u0275fac=function(n){return new(n||t)(u(Xn),u(k))}}static{this.\u0275cmp=C({type:t,selectors:[["app-list-etudiants"]],decls:6,vars:3,consts:[[1,"container-xl","mt-4"],["class","loading-message d-flex flex-column align-items-center justify-content-center",4,"ngIf"],["class","no-data-message d-flex flex-column align-items-center justify-content-center",4,"ngIf"],["class","content",4,"ngIf"],["routerLink","/admin/create-entreprise",1,"floating-button"],[1,"loading-message","d-flex","flex-column","align-items-center","justify-content-center"],[1,"text-muted","fs-5"],[1,"no-data-message","d-flex","flex-column","align-items-center","justify-content-center"],["src","assets/no-data.png","alt","Aucune donn\xE9e disponible",1,"no-data-img","mb-3"],[1,"mt-2","text-muted","fs-5"],[1,"content"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["for","pageSize",1,"me-2"],["id","pageSize",1,"form-select","d-inline-block","w-auto",3,"change","value"],[3,"value",4,"ngFor","ngForOf"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"pagination","d-flex","justify-content-center","align-items-center","mt-3"],[1,"btn","btn-outline-primary","me-2",3,"click","disabled"],[1,"btn","btn-outline-primary","ms-2",3,"click","disabled"],[3,"value"],[1,"user-icon"],["alt","gb",2,"width","100%","height","auto",3,"src"],[2,"display","inline-flex"],[1,"d-flex",2,"border","none",3,"click"],[1,"bi","bi-info-circle"],[1,"d-flex",2,"border","none","padding-left","10px",3,"click"],[1,"bi","bi-pencil"],[1,"bi","bi-trash"]],template:function(n,o){n&1&&(i(0,"div",0),f(1,Lr,3,0,"div",1)(2,Ar,4,0,"div",2)(3,Vr,33,8,"div",3),r(),i(4,"button",4),a(5," + "),r()),n&2&&(l(),s("ngIf",o.loading),l(),s("ngIf",o.entreprises.length===0&&!o.loading),l(),s("ngIf",o.entreprises.length>0))},dependencies:[L,R,S,ee],styles:[".no-data-message[_ngcontent-%COMP%]{height:50vh;font-size:1.2rem;color:#6c757d}.fixed-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1050}.no-data-img[_ngcontent-%COMP%]{max-width:150px;height:auto;opacity:.7}.header-bar[_ngcontent-%COMP%]{background-color:#9b59b6;color:#fff;text-align:center;padding:20px 0}.breadcrumb[_ngcontent-%COMP%]{background-color:transparent;margin-bottom:0;font-size:.9rem}.search-bar[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:15px;display:flex;align-items:center;box-shadow:0 2px 4px #0000001a;width:250px;padding:2px 5px 2px 10px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;background:transparent;flex:1;font-size:16px;width:20px;padding-left:10px}.search-bar[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem;color:gray}.bg-purple[_ngcontent-%COMP%]{background-color:#af7ac5}.btn-primary[_ngcontent-%COMP%]{background-color:#af7ac5;border-color:#af7ac5}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#9c6fb0;border-color:#9c6fb0}.floating-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;background-color:#9c6fb0;color:#fff;border:none;border-radius:50%;width:80px;height:80px;font-size:24px;line-height:60px;text-align:center;box-shadow:2px 2px 5px #0000004d;cursor:pointer}.floating-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.user-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;height:20px}td[_ngcontent-%COMP%]{vertical-align:middle}"]})}}return t})();var Jn=(()=>{class t{constructor(e){this.http=e,this.apiUrl=T.apiUrl}getEntrepriseByIds(e){return this.http.get(`${this.apiUrl}/entreprises/${e}/`)}static{this.\u0275fac=function(n){return new(n||t)(P(O))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $r(t,c){t&1&&(i(0,"div",2),p(1,"img",3),i(2,"span",4),a(3,"Aucune donn\xE9e disponible"),r()())}function qr(t,c){if(t&1&&(i(0,"div",5)(1,"h3"),a(2,"D\xE9tails de l'entreprise"),r(),i(3,"p"),a(4),r(),i(5,"p"),a(6),r(),i(7,"p"),a(8),r(),i(9,"p"),a(10),r()()),t&2){let e=d();l(4),E("Nom: ",e.entrepriseDetail.nom," "),l(2),E("Email: ",e.entrepriseDetail.email,""),l(2),E("R\xF4le: ",e.entrepriseDetail.role,""),l(2),E("Telephone: ",e.entrepriseDetail.phone_number," ")}}var Yn=(()=>{class t{constructor(e,n){this.detailEntrepriseService=e,this.route=n,this.entrepriseDetail=null,this.loading=!1}ngOnInit(){this.entrepriseId=this.route.snapshot.params.detailEntreprise,this.LoadEntrepriseDetail()}LoadEntrepriseDetail(){this.detailEntrepriseService.getEntrepriseByIds(this.entrepriseId).subscribe(e=>{this.entrepriseDetail=e,console.log("kkkkkkk",this.entrepriseDetail)})}static{this.\u0275fac=function(n){return new(n||t)(u(Jn),u(F))}}static{this.\u0275cmp=C({type:t,selectors:[["app-detail-etudiants"]],decls:2,vars:2,consts:[["class","no-data-message d-flex flex-column align-items-center justify-content-center",4,"ngIf"],["class","container-xl mt-4",4,"ngIf"],[1,"no-data-message","d-flex","flex-column","align-items-center","justify-content-center"],["src","assets/no-data.png","alt","Aucune donn\xE9e disponible",1,"no-data-img","mb-3"],[1,"mt-2","text-muted","fs-5"],[1,"container-xl","mt-4"]],template:function(n,o){n&1&&f(0,$r,4,0,"div",0)(1,qr,11,4,"div",1),n&2&&(s("ngIf",o.entrepriseDetail.length===0&&!o.loading),l(),s("ngIf",o.entrepriseDetail))},dependencies:[L,S],encapsulation:2})}}return t})();var Kn=(()=>{class t{constructor(e){this.http=e,this.apiUrl=T.apiUrl}getEntrepsiseById(e){return this.http.get(`${this.apiUrl}/entreprises/${e}/`)}updateEntreprise(e,n){return this.http.put(`${this.apiUrl}/users/${e}/`,n)}static{this.\u0275fac=function(n){return new(n||t)(P(O))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Zn=(()=>{class t{constructor(e,n,o,m){this.formBuilder=e,this.route=n,this.router=o,this.editEncadrantService=m,this.entrepriseEdit="",this.status=!0,this.entrepriseForm=this.formBuilder.group({nom:["",b.required],prenom:[null],email:["",[b.required,b.email]],phone_number:["",b.required],role:["employeur",b.required]})}ngOnInit(){this.entrepriseId=this.route.snapshot.params.updateEntreprise,this.LoadEntrepriseEdit()}LoadEntrepriseEdit(){this.editEncadrantService.getEntrepsiseById(this.entrepriseId).subscribe(e=>{this.entrepriseEdit=e,this.filtreloadEntreprise()})}filtreloadEntreprise(){this.entrepriseForm.patchValue({nom:this.entrepriseEdit.nom,prenom:this.entrepriseEdit.prenom,email:this.entrepriseEdit.email,phone_number:this.entrepriseEdit.phone_number,role:"employeur"})}updateEntreprise(){if(this.entrepriseForm.valid){let e=new FormData;e.append("nom",this.entrepriseForm.value.nom),e.append("prenom",this.entrepriseForm.value.prenom),e.append("email",this.entrepriseForm.value.email),e.append("phone_number",this.entrepriseForm.value.phone_number),e.append("role",this.entrepriseForm.value.role),e.forEach((n,o)=>{console.log(`${o}: ${n}`)}),this.editEncadrantService.updateEntreprise(this.entrepriseId,this.entrepriseForm.value).subscribe(()=>{this.router.navigate(["/admin/entreprises"])})}}static{this.\u0275fac=function(n){return new(n||t)(u(G),u(F),u(k),u(Kn))}}static{this.\u0275cmp=C({type:t,selectors:[["app-edit-etudiants"]],decls:23,vars:2,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-6"],["for","nom",1,"form-label"],["id","nom","formControlName","nom","required","",1,"form-control"],["for","email",1,"form-label"],["id","email","formControlName","email","type","email","required","",1,"form-control"],["for","phone_number",1,"form-label"],["id","phone_number","formControlName","phone_number","required","",1,"form-control"],[1,"mt-3","mb-3","d-flex"],["type","submit","routerLink","/admin/entreprises",1,"btn","btn-outline-danger","mx-2"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,o){n&1&&(i(0,"div",0)(1,"h2",1),a(2,"Modifier un Entreprise"),r(),i(3,"form",2),g("ngSubmit",function(){return o.updateEntreprise()}),i(4,"div",3)(5,"div",4)(6,"label",5),a(7,"Nom -entreprise:"),r(),p(8,"input",6),r()(),i(9,"div",3)(10,"div",4)(11,"label",7),a(12,"Email-entrepsise:"),r(),p(13,"input",8),r(),i(14,"div",4)(15,"label",9),a(16,"T\xE9l\xE9phone -entreprise:"),r(),p(17,"input",10),r()(),i(18,"div",11)(19,"button",12),a(20,"Annuler"),r(),i(21,"button",13),a(22,"Modifier"),r()()()()),n&2&&(l(3),s("formGroup",o.entrepriseForm),l(18),s("disabled",o.entrepriseForm.invalid))},dependencies:[X,q,V,N,$,_e,B,U],encapsulation:2})}}return t})();var ei=(()=>{class t{constructor(e){this.http=e,this.apiUrl=T.apiUrl}createUser(e){return this.http.post(`${this.apiUrl}/register/`,e)}static{this.\u0275fac=function(n){return new(n||t)(P(O))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Gr(t,c){t&1&&(i(0,"div")(1,"small",21),a(2,"Entrer un nom"),r()())}function Hr(t,c){t&1&&(i(0,"div")(1,"small",21),a(2,"Entrer un email"),r()())}function Qr(t,c){t&1&&(i(0,"div")(1,"small",21),a(2,"Entrer un email"),r()())}function Xr(t,c){t&1&&(i(0,"div")(1,"small",21),a(2,"Entrer un numero de phone correct"),r()())}var ti=(()=>{class t{constructor(e,n,o){this.fb=e,this.createEnpresiseService=n,this.router=o,this.selectedFile=null}ngOnInit(){this.registrationForm=this.fb.group({nom:["",b.required],prenom:[null],email:["",[b.required,b.email]],phone_number:["",b.required],role:"employeur",profile_pic:[null]})}onFileSelected(e){e.target.files.length>0&&(this.selectedFile=e.target.files[0])}onSubmit(){let e=new FormData;e.append("email",this.registrationForm.value.email),e.append("nom",this.registrationForm.value.nom),e.append("prenom",this.registrationForm.value.prenom),e.append("phone_number",this.registrationForm.value.phone_number),e.append("password",this.registrationForm.value.phone_number),e.append("role",this.registrationForm.value.role),this.selectedFile&&e.append("profile_pic",this.selectedFile,this.selectedFile.name),e.forEach((n,o)=>{console.log(`${o}: ${n}`)}),this.createEnpresiseService.createUser(e).subscribe(n=>{console.log("Utilisateur enregistr\xE9 avec succ\xE8s",n),this.router.navigate(["/admin/entreprises"])})}OnAnnuler(){this.router.navigate(["/admin/entreprises"])}static{this.\u0275fac=function(n){return new(n||t)(u(G),u(ei),u(k))}}static{this.\u0275cmp=C({type:t,selectors:[["app-edit-etudiants"]],decls:45,vars:5,consts:[[1,"container","d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"col-md-8","col-lg-6","p-4","shadow","rounded",2,"background-color","white"],[1,"my-4","text-center","text-primary"],[3,"ngSubmit","formGroup"],[1,"row","mb-3","align-items-center"],["for","nom",1,"col-sm-4","col-form-label"],[1,"col-sm-8","input-group"],[1,"input-group-text"],[1,"bi","bi-file-earmark-plus"],["type","text","id","nom","formControlName","nom","placeholder","nom",1,"form-control"],[4,"ngIf"],["for","email",1,"col-sm-4","col-form-label"],["type","text","id","email","formControlName","email","placeholder","email",1,"form-control"],["for","password",1,"col-sm-4","col-form-label"],["type","text","id","password","formControlName","password","placeholder","password",1,"form-control"],["for","phone_number",1,"col-sm-4","col-form-label"],["type","text","id","phone_number","formControlName","phone_number","placeholder","phone_number",1,"form-control"],["type","file",3,"change"],[1,"d-flex","justify-content-between"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"error"]],template:function(n,o){if(n&1&&(i(0,"body")(1,"div",0)(2,"div",1)(3,"h1",2),a(4,"Cr\xE9er un compte entreprise"),r(),i(5,"form",3),g("ngSubmit",function(){return o.onSubmit()}),i(6,"div",4)(7,"label",5),a(8,"Nom de l'entreprise"),r(),i(9,"div",6)(10,"span",7),p(11,"i",8),r(),p(12,"input",9),f(13,Gr,3,0,"div",10),r()(),i(14,"div",4)(15,"label",11),a(16,"Email -entreprise"),r(),i(17,"div",6)(18,"span",7),p(19,"i",8),r(),p(20,"input",12),f(21,Hr,3,0,"div",10),r()(),i(22,"div",4)(23,"label",13),a(24,"Password"),r(),i(25,"div",6)(26,"span",7),p(27,"i",8),r(),p(28,"input",14),f(29,Qr,3,0,"div",10),r()(),i(30,"div",4)(31,"label",15),a(32,"t\xE9l\xE9phone-entreprise"),r(),i(33,"div",6)(34,"span",7),p(35,"i",8),r(),p(36,"input",16),f(37,Xr,3,0,"div",10),r()(),i(38,"input",17),g("change",function(h){return o.onFileSelected(h)}),r(),p(39,"br"),i(40,"div",18)(41,"button",19),a(42,"Ajouter"),r(),i(43,"button",20),g("click",function(){return o.OnAnnuler()}),a(44,"Annuler"),r()()()()()()),n&2){let m,h,M,j;l(5),s("formGroup",o.registrationForm),l(8),s("ngIf",((m=o.registrationForm.get("nom"))==null?null:m.invalid)&&((m=o.registrationForm.get("nom"))==null?null:m.touched)),l(8),s("ngIf",((h=o.registrationForm.get("email"))==null?null:h.invalid)&&((h=o.registrationForm.get("email"))==null?null:h.touched)),l(8),s("ngIf",((M=o.registrationForm.get("password"))==null?null:M.invalid)&&((M=o.registrationForm.get("password"))==null?null:M.touched)),l(8),s("ngIf",((j=o.registrationForm.get("phone_number"))==null?null:j.invalid)&&((j=o.registrationForm.get("phone_number"))==null?null:j.touched))}},dependencies:[X,q,V,N,$,B,U,L,S],styles:[".no-data-message[_ngcontent-%COMP%]{height:50vh;font-size:1.2rem;color:#6c757d}.fixed-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1050}.no-data-img[_ngcontent-%COMP%]{max-width:150px;height:auto;opacity:.7}.error[_ngcontent-%COMP%]{color:#e53e3e;font-size:.9em;margin-top:5px}.header-bar[_ngcontent-%COMP%]{background-color:#9b59b6;color:#fff;text-align:center;padding:20px 0}.breadcrumb[_ngcontent-%COMP%]{background-color:transparent;margin-bottom:0;font-size:.9rem}.search-bar[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:15px;display:flex;align-items:center;box-shadow:0 2px 4px #0000001a;width:250px;padding:2px 5px 2px 10px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;background:transparent;flex:1;font-size:16px;width:20px;padding-left:10px}.search-bar[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem;color:gray}.bg-purple[_ngcontent-%COMP%]{background-color:#af7ac5}.btn-primary[_ngcontent-%COMP%]{background-color:#af7ac5;border-color:#af7ac5}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#9c6fb0;border-color:#9c6fb0}.floating-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;background-color:#9c6fb0;color:#fff;border:none;border-radius:50%;width:80px;height:80px;font-size:24px;line-height:60px;text-align:center;box-shadow:2px 2px 5px #0000004d;cursor:pointer}.floating-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return t})();var Wr=[{path:"",component:In,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:wn},{path:"apprenants",component:Ln},{path:"apprenants/:detailApprenant/detail",component:jn},{path:"apprenants/:updateApprenant/update",component:Vn},{path:"formateurs",component:$n},{path:"formateurs/:detailFormateur/detail",component:Bn},{path:"formateurs/:updateFormateur/update",component:Gn},{path:"create-formateur",component:Qn},{path:"entreprises",component:Wn},{path:"entreprises/:detailEntreprise/detail",component:Yn},{path:"entreprises/:updateEntreprise/update",component:Zn},{path:"create-entreprise",component:ti},{path:"list/:resourceType",component:We},{path:"list/:resourceType/:resourceChild",component:We},{path:"create/:resourceType",component:Tn},{path:"edit/:resourceType/:id",component:Dn},{path:"details/:resourceType/:id",component:Fn},{path:"domaine",component:sn},{path:":iddomaineGestionnaireId/module",component:mn},{path:":idmoduleGestionnaireId/cours",component:cn},{path:":idcoursGestionnaireId/chapitre",component:pn},{path:"formation",component:Ue},{path:":dasbordId/programme-talent",component:Be},{path:"dasbord/:dasbordId/dasbord-prog-talent",component:Be},{path:"formation",component:Ue},{path:"ajouter-formation",component:un},{path:"update/:id/formation",component:fn},{path:"create-seance/:id",component:Ge},{path:"modification-seance/:id",component:gn},{path:"list-annonce",component:dn},{path:"ajouter-annonce",component:_n},{path:"modification-annonce/:id",component:hn},{path:"ajout-encadrant",component:bn},{path:"modification-encadrant/:id",component:xn},{path:"formation-detail/:id",component:vn},{path:"Module-formation/:id_joutFormation/formation",component:Cn},{path:"create/:id_joutFormation/:seanceId/seance",component:Ge},{path:"webinaire",component:gt}]}],ni=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=De({type:t})}static{this.\u0275inj=Te({imports:[Pe.forChild(Wr),Pe]})}}return t})();var Bl=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=De({type:t})}static{this.\u0275inj=Te({imports:[ni,L,Pe,xt,vt,$e,St,ut,Pt,Ot,kt,Ct,Rt,jt,Oe,Xt,qe,Jt,qe,X,ct,Et,Lt,Kt,Yt,mt,on,ft,ln,pt,$e,X,Oe]})}}return t})();export{Bl as AdminModule};
